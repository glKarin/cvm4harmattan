diff -Naur orig/abstractions/build/cdc_share/module.gmk patched/abstractions/build/cdc_share/module.gmk
--- orig/abstractions/build/cdc_share/module.gmk	2011-03-09 19:14:28.000000000 +0100
+++ patched/abstractions/build/cdc_share/module.gmk	2012-01-26 14:02:19.000000000 +0100
@@ -22,6 +22,14 @@
 # information or have any questions. 
 #
 
+# 
+# NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+# This file has last been modified by Davy Preuveneers on 2010-02-23. The
+# changes are licensed under the terms of the GNU General Public
+# License version 2. This notice was added to meet the conditions of
+# Section 3.a of the GNU General Public License version 2.
+# 
+
 JSR_CONFIGURATION_INPUT_FILES += \
     $(ABSTRACTIONS_DIR)/src/share/config/i18n_constants_abstractions.xml \
     $(ABSTRACTIONS_DIR)/src/share/config/l10n/en-US_abstractions.xml
@@ -41,11 +49,14 @@
 ABSTRACTIONS_NATIVES += \
     internal_props.c \
 	exceptions.c \
-	kni_utils.c \
 	push_utils.c
 
 # classes
 ABSTRACTIONS_CLASSES += \
+    $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/main/Configuration.java \
+    $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/app/AppModel.java \
+    $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/app/AppIsolate.java \
+    $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/app/AppPackage.java \
     $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/security/TrustedClass.java \
     $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/security/Token.java \
     $(ABSTRACTIONS_CDC_JAVASRCDIRS)/com/sun/j2me/security/SecurityTokenInitializer.java \
@@ -136,12 +147,6 @@
 endif
 
 ABSTRACTIONS_WRAPPER_CLASSES += \
-    -package com.sun.j2me.proxy.lcdui \
-        -i javax.microedition.lcdui.CustomItem \
-        javax.microedition.lcdui.Display \
-        javax.microedition.lcdui.Graphics \
-        -i javax.microedition.lcdui.Canvas \
-        com.sun.midp.lcdui.DisplayIdPolicy \
     -package com.sun.j2me.proxy.security \
         com.sun.midp.security.SecurityToken \
         com.sun.midp.security.SecurityInitializer \
diff -Naur orig/abstractions/build/cldc_application/module.gmk patched/abstractions/build/cldc_application/module.gmk
--- orig/abstractions/build/cldc_application/module.gmk	2011-03-09 19:14:28.000000000 +0100
+++ patched/abstractions/build/cldc_application/module.gmk	2012-01-26 14:02:19.000000000 +0100
@@ -22,6 +22,14 @@
 # information or have any questions. 
 #
 
+# 
+# NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+# This file has last been modified by Davy Preuveneers on 2010-02-23. The
+# changes are licensed under the terms of the GNU General Public
+# License version 2. This notice was added to meet the conditions of
+# Section 3.a of the GNU General Public License version 2.
+# 
+
 # abstractions main directory
 JSROP_ABSTRACTS_DIR=$(ABSTRACTIONS_DIR)
 
@@ -31,7 +39,6 @@
 
 # names of native source files (like 'file.c')
 ABSTRACTIONS_NATIVES += \
-	kni_utils.c \
 	jsrop_suitestore.c
 
 # extra libraries needed (like '-lpthread' or '-lm')
diff -Naur orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppIsolate.java patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppIsolate.java
--- orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppIsolate.java	1970-01-01 01:00:00.000000000 +0100
+++ patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppIsolate.java	2012-01-26 14:02:19.000000000 +0100
@@ -0,0 +1,43 @@
+/*
+ * Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ * 
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation. 
+ * 
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt). 
+ * 
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA 
+ * 
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+/*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+package com.sun.j2me.app;
+
+public class AppIsolate {
+
+    /** 
+     * get Isolate ID
+     */
+    public static int getIsolateId() {
+          return 0;
+    }
+}
diff -Naur orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppModel.java patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppModel.java
--- orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppModel.java	1970-01-01 01:00:00.000000000 +0100
+++ patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppModel.java	2012-01-26 14:02:19.000000000 +0100
@@ -0,0 +1,50 @@
+/*
+ * Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ * 
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation. 
+ * 
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt). 
+ * 
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA 
+ * 
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+/*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+package com.sun.j2me.app;
+
+/**
+ * Abstraction for application model
+ */
+public class AppModel{
+
+    private AppModel() {
+    }
+
+    public final static int MIDLET = 0;
+    public final static int XLET = 1;
+    public final static int UNKNOWN_MODEL = 2;
+
+    public static int getAppModel() {
+        return MIDLET;
+    }
+}
diff -Naur orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppPackage.java patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppPackage.java
--- orig/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppPackage.java	1970-01-01 01:00:00.000000000 +0100
+++ patched/abstractions/src/cdc_share/classes/com/sun/j2me/app/AppPackage.java	2012-01-26 14:02:19.000000000 +0100
@@ -0,0 +1,131 @@
+/*
+ * Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ * 
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation. 
+ * 
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt). 
+ * 
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA 
+ * 
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+/*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+package com.sun.j2me.app;
+
+import com.sun.j2me.security.Permission;
+import sun.misc.CVM;
+import java.io.InputStream;
+import sun.misc.MIDPConfig;
+
+/**
+ * Abstraction for application package
+ */
+public class AppPackage {
+
+    /** Static instance. Only one package can be run in a isolate */
+    private static AppPackage instance = new AppPackage();
+
+    /** Guard from 'new' operator */
+    private AppPackage() {
+    }
+
+    public static AppPackage getInstance() {
+        return instance;
+    }
+
+    public int getId() {
+        return 0;
+    }
+
+    /** Unused ID */
+    public static final int UNUSED_APP_ID = -1;
+
+    /**
+     * Returns permission status for the specified permission
+     *
+     * @param p permission to check
+     * @return 1 if allowed; 0 if denied; -1 if status is unknown
+     */
+    public int checkPermission(Permission p) {
+        /*
+         * IMPL_NOTE: The corresponding method in MIDletSuite used to check
+         * for permissions silently, i.e. without throwing SecurityException
+         * or asking user if he allows to proceed.
+         * This functionality should be added to AccessController; until then,
+         * it is acceptable to return "unknown", so that security-sensitive
+         * code will call checkForPermission() anyway.
+         */
+        return -1;
+    }
+
+    /**
+     * Checks for specified permission status. Throws an exception
+     * if permission is not allowed. May be blocked to ask user
+     *
+     * @param p a permission to check
+     * @exception SecurityException if permission is not allowed
+     * @exception InterruptedException if another thread interrupts a calling
+     *  thread while asking user
+     */
+    public void checkForPermission(Permission p) throws InterruptedException {
+        if (CVM.isMIDPContext()) {
+            com.sun.j2me.proxy.security.AccessController.
+                checkPermission(p.getName(), p.getResource(), p.getExtraValue());
+        } else {
+            p.checkCDCPermission();
+        }
+    }
+
+    /**
+     * Throws an exception if a status for the permission is not allowed
+     *
+     * @param p a permission to check
+     * @exception SecurityException if a status for the permission is not allowed
+     */
+    public void checkIfPermissionAllowed(Permission p) {
+        if (checkPermission(p) != 1) {
+            throw new SecurityException();
+        }
+    }
+
+    /**
+     * Gets the name of CA that authorized this suite.
+     *
+     * @return name of a CA or null if the suite was not signed
+     */
+    public String getCA() {
+        return null;
+    }
+
+    /**
+     * Finds a resource with a given name.  This method returns null if no
+     * resource with this name is found.  
+     *
+     * @param name  name of the desired resource
+     * @return      a <code>java.io.InputStream</code> object.
+     * @throws NullPointerException if <code>name</code> is <code>null</code>.
+     */
+    public InputStream getResourceAsStream(String name) {
+        return getClass().getResourceAsStream(name);    
+    }
+}
diff -Naur orig/abstractions/src/cdc_share/classes/com/sun/j2me/main/Configuration.java patched/abstractions/src/cdc_share/classes/com/sun/j2me/main/Configuration.java
--- orig/abstractions/src/cdc_share/classes/com/sun/j2me/main/Configuration.java	1970-01-01 01:00:00.000000000 +0100
+++ patched/abstractions/src/cdc_share/classes/com/sun/j2me/main/Configuration.java	2012-01-26 14:02:19.000000000 +0100
@@ -0,0 +1,102 @@
+/*
+ * Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ * 
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation. 
+ * 
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt). 
+ * 
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA 
+ * 
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+/*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+package com.sun.j2me.main;
+
+import java.util.Properties;
+import java.util.Hashtable;
+
+/**
+ * Intermediate class for getting internal properties
+ */
+public class Configuration {
+
+    /** List of all internal properties. */
+    private static Properties props = new Properties();
+
+    /** Don't let anyone instantiate this class. */
+    private Configuration() {
+    }
+
+    /**
+     * Returns internal property value by key.
+     *
+     * @param key property key.
+     * @return property value.
+     */
+    public static String getProperty(String key) {
+        return props.getProperty(key);
+    }
+
+    /**
+     * Sets internal property value by key.
+     *
+     * @param key property key.
+     * @param value property value.
+     */
+    public static void setProperty(String key, String value) {
+        props.setProperty(key, value);
+    }
+
+    /**
+     * Gets the implementation property indicated by the specified key or
+     * returns the specified default value as an int.
+     *
+     * @param      key   the name of the implementation property.
+     * @param      def   the default value for the property if not
+     *                  specified in the configuration files or command
+     *                  line over rides.
+     *
+     * @return     the int value of the implementation property,
+     *             or <code>def</code> if there is no property with that key or
+     *             the config value is not an int.
+     *
+     * @exception  NullPointerException if <code>key</code> is
+     *             <code>null</code>.
+     * @exception  IllegalArgumentException if <code>key</code> is empty.
+     */
+    public static int getIntProperty(String key, int def) {
+        String prop = getProperty(key);
+        if (prop == null) {
+            return def;
+        }
+
+        try {
+            int temp = Integer.parseInt(prop);
+            return temp;
+        } catch (NumberFormatException nfe) {
+            // keep the default
+        }
+
+        return def;
+    }
+}
diff -Naur orig/cdc/build/share/defs.mk patched/cdc/build/share/defs.mk
--- orig/cdc/build/share/defs.mk	2012-03-24 16:54:56.000000000 +0100
+++ patched/cdc/build/share/defs.mk	2012-03-24 17:07:14.000000000 +0100
@@ -2353,7 +2353,7 @@
 SO_CC_CMD	= $(call compileCC,$(SO_CFLAGS),$@,$<)
 
 # SO_LINK_CMD(objFiles, extraLibs)
-SO_LINK_CMD 	= $(AT)$(TARGET_LD) $(SO_LINKFLAGS) -o $@ $(1) $(2)
+SO_LINK_CMD 	= $(AT)$(TARGET_LD) $(SO_LINKFLAGS) -o $@ $(1) $(LINKLIBS) $(2)
 JAVAC_CMD	= $(CVM_JAVAC) $(JAVAC_OPTIONS)
 JAR_CMD		= $(CVM_JAR)
 JAVA_CMD	= $(CVM_JAVA)
diff -Naur orig/cdc/src/share/classes/com/sun/cdc/io/InternalConnectorImpl.java patched/cdc/src/share/classes/com/sun/cdc/io/InternalConnectorImpl.java
--- orig/cdc/src/share/classes/com/sun/cdc/io/InternalConnectorImpl.java	2011-03-09 22:01:50.000000000 +0100
+++ patched/cdc/src/share/classes/com/sun/cdc/io/InternalConnectorImpl.java	2011-03-09 22:03:50.000000000 +0100
@@ -161,7 +161,7 @@
              * Use the platform and protocol names to look up
              * a class to implement the connection
              */
-            String className = getClassRoot() + "." + "j2me"+ "." + protocol +
+            String className = "com.sun.cdc.io.j2me." + protocol +
                ".Protocol";
             Class clazz = Class.forName(className, true,
                                         getProtocolClassLoader());
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DateEditor.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DateEditor.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DateEditor.java	2011-03-09 19:18:49.000000000 +0100
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DateEditor.java	2012-01-26 14:02:19.000000000 +0100
@@ -1,4 +1,12 @@
 /*
+ * NOTICE: Portions Copyright (c) 2007-2009 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+/*
  *  
  *
  * Copyright  1990-2007 Sun Microsystems, Inc. All Rights Reserved.
@@ -88,7 +96,7 @@
                 break;
             case DateField.DATE_TIME:
                 focusOn = MONTH_POPUP;
-                timeComponentsOffset = 98;
+                timeComponentsOffset = 196;
                 populateDateComponents();
                 populateTimeComponents();
                 break;
@@ -102,31 +110,31 @@
         // relative coordinate of the uppper left corner and with invalid
         // width, height values dependent on skin images
         month_bounds = new int[] {
-            (mode == DateField.DATE)? 10: 4,
-            5, 0, 0
+            (mode == DateField.DATE)? 20: 8,
+            10, 0, 0
         };
         year_bounds = new int[] {
-            month_bounds[X] + 45,
+            month_bounds[X] + 90,
             month_bounds[Y],
             0, 0
         };
         hours_bounds = new int[] {
-            timeComponentsOffset + ((mode == DateField.TIME)? 17: 0),
-            ((mode == DateField.TIME)? 10: 5),
+            timeComponentsOffset + ((mode == DateField.TIME)? 34: 0),
+            ((mode == DateField.TIME)? 20: 10),
             0, 0
         };
         minutes_bounds = new int[] {
-            hours_bounds[X] + 34,
+            hours_bounds[X] + 68,
             hours_bounds[Y],
             0, 0
         };
         calendar_bounds = new int[] {
-            (mode == DateField.DATE)? 10: 4,
-            29, 0, 0
+            (mode == DateField.DATE)? 20: 8,
+            58, 0, 0
         };
         ampm_bounds = new int[] {
-            timeComponentsOffset + ((mode == DateField.TIME)? 15: 0),
-            29, 0, 0 };
+            timeComponentsOffset + ((mode == DateField.TIME)? 30: 0),
+            58, 0, 0 };
         
         setCommands(commands);
         setCommandListener(this);
@@ -260,7 +268,7 @@
             itemIndexWhenPressed = itemIndexAtPointerPosition(x,y);
             switch (itemIndexWhenPressed) {
             case AM_PM:
-                amHilighted = ( x - ampm_bounds[X] < 35);
+                amHilighted = ( x - ampm_bounds[X] < 70);
                 break;
             case CALENDAR:
                 pressedDate = getDateAtPointerPosition(x, y);
@@ -304,7 +312,7 @@
             if (itemIndexWhenPressed == itemIndexWhenReleased) {
                 if (itemIndexWhenPressed > 0) {
                     if ( (itemIndexWhenPressed == AM_PM &&
-                          amHilighted == (x - ampm_bounds[X] < 35)) ||
+                          amHilighted == (x - ampm_bounds[X] < 70)) ||
                          (itemIndexWhenPressed == CALENDAR &&
                           pressedDate == getDateAtPointerPosition(x, y) &&
                           pressedDate > 0) ||
@@ -343,7 +351,7 @@
         int transX = x - calendar_bounds[X];
         int transY = y - calendar_bounds[Y];
         int o = DateEditorSkin.IMAGE_CAL_BG.getWidth() / 7;
-        int rowH = 11;
+        int rowH = 22;
         //variable o, rowH, h is same as in paintCaalendar()
         int h = DateEditorSkin.IMAGE_DATES.getHeight() / 31;
 
@@ -853,7 +861,7 @@
 	
 	int o = Resource.getFirstDayOfWeek();
 
-	int xBg = 5;
+	int xBg = 10;
 	int x = (o - 1) * w;
 
         for (int i = 0; i < 7; i++) {
@@ -891,16 +899,16 @@
         if (DateEditorSkin.IMAGE_DATES == null) {
             return;
         }
-        g.translate(2, 0);
+        g.translate(4, 0);
 
         int o = DateEditorSkin.IMAGE_CAL_BG.getWidth() / 7;
-        int rowH = 11;
+        int rowH = 22;
         int h = DateEditorSkin.IMAGE_DATES.getHeight() / 31;
         int w = DateEditorSkin.IMAGE_DATES.getWidth();
 
         // draw calendar
-        int x = 5 + ((dayOffset - 1) * o);
-        int y = h + 4;
+        int x = 10 + ((dayOffset - 1) * o);
+        int y = h + 8;
 
         if (hilightedDate > lastDay) {
             hilightedDate = lastDay;
@@ -917,7 +925,7 @@
                     (focusOn == CALENDAR) ?
                         DateEditorSkin.COLOR_TRAVERSE_IND:
                         0);
-                g.drawRect(x - 6, y - 1, w, h + 1);
+                g.drawRect(x - 12, y - 2, w, h + 2);
             }
 
             g.drawRegion(DateEditorSkin.IMAGE_DATES,
@@ -930,12 +938,12 @@
             x += o;
             if (x > lastCol) {
                 calendarRightLimit = x - o;
-                x = 5;
+                x = 10;
                 y += rowH;
             }
         }
         calendarBottomLimit = y;
-        g.translate(-2, 0);
+        g.translate(-4, 0);
 
         calendar_bounds[W]= DateEditorSkin.IMAGE_CAL_BG.getWidth();
         //add rowH as the date may be written under the calendar bg.
@@ -951,7 +959,7 @@
         int clockStartX, clockStartY;
 
         if (!lf.CLOCK_USES_AM_PM) {
-            clockStartY = 9;
+            clockStartY = 18;
         } else {
             // paint AM
             if (DateEditorSkin.IMAGE_RADIO != null) {
@@ -978,11 +986,11 @@
                                  (DateEditorSkin.IMAGE_RADIO[0].getHeight()/2),
                                  Graphics.VCENTER | Graphics.LEFT);
                 }
-                ampm_bounds[W] = 35 *2;
+                ampm_bounds[W] = 70 *2;
                 ampm_bounds[H] = DateEditorSkin.IMAGE_RADIO[0].getHeight();
             }
 
-            g.translate(35, 0);
+            g.translate(70, 0);
             // paint PM
             if (DateEditorSkin.IMAGE_RADIO != null) {
                 g.drawImage((amSelected) ?
@@ -1009,11 +1017,11 @@
                                  Graphics.VCENTER | Graphics.LEFT);
                 }
             }
-            g.translate(-35, 0);
-            clockStartY = 22;
+            g.translate(-70, 0);
+            clockStartY = 44;
         }
 
-        clockStartX = (mode == DateField.TIME) ? 10 : 6;
+        clockStartX = (mode == DateField.TIME) ? 20 : 12;
         g.translate(clockStartX, clockStartY);
         if (DateEditorSkin.IMAGE_CLOCK_BG != null) {
             g.drawImage(DateEditorSkin.IMAGE_CLOCK_BG, 0, 0,
diff -Naur orig/midp/src/lowlevelui/putpixel_port/stubs/native/gxjport_text.c patched/midp/src/lowlevelui/putpixel_port/stubs/native/gxjport_text.c
--- orig/midp/src/lowlevelui/putpixel_port/stubs/native/gxjport_text.c	2011-02-10 12:09:45.000000000 +0100
+++ patched/midp/src/lowlevelui/putpixel_port/stubs/native/gxjport_text.c	2011-03-27 15:54:20.000000000 +0200
@@ -31,46 +31,50 @@
  *
  * platform dependent character drawing
  */
- 
+
+typedef int fn_draw_chars(int, const jshort *, void *, int, int, int, int, int, int, int, const jchar *, int);
+static fn_draw_chars *smartphone_draw_chars = NULL;
+
+typedef int fn_get_font_info(int, int, int, int *, int *, int *);
+static fn_get_font_info *smartphone_get_font_info = NULL;
+
+typedef int fn_get_chars_width(int, int, int, const jchar *, int);
+static fn_get_chars_width *smartphone_get_chars_width = NULL;
+
+void initDrawChars(fn_draw_chars *draw, fn_get_font_info *info, fn_get_chars_width *width) {
+    smartphone_draw_chars = draw;
+    smartphone_get_font_info = info;
+    smartphone_get_chars_width = width;
+}
+
 int gxjport_draw_chars(int pixel, const jshort *clip, void *dst, int dotted,
                        int face, int style, int size,
                        int x, int y, int anchor,
                        const jchar *chararray, int n) {
-    (void)pixel;
-    (void)clip;
-    (void)dst;
-    (void)dotted;
-    (void)face;
-    (void)style;
-    (void)size;
-    (void)x;
-    (void)y;
-    (void)anchor;
-    (void)chararray;
-    (void)n;
-    
-    return KNI_FALSE;
-}                           
+
+    if (!smartphone_draw_chars) {
+        return KNI_FALSE;
+    }
+
+    return (*smartphone_draw_chars)(pixel, clip, dst, dotted, face, style, size, x, y, anchor, chararray, n);
+}
 
 int gxjport_get_font_info(int face, int style, int size,
                           int *ascent, int *descent, int *leading) {
-    (void)face;
-    (void)style;
-    (void)size;
-    (void)ascent;
-    (void)descent;
-    (void)leading;
-                          
-    return KNI_FALSE;
-}                            
+
+    if (!smartphone_get_font_info) {
+        return KNI_FALSE;
+    }
+
+    return (*smartphone_get_font_info)(face, style, size, ascent, descent, leading);
+}
 
 int gxjport_get_chars_width(int face, int style, int size,
                             const jchar *charArray, int n) {
-    (void)face;
-    (void)style;
-    (void)size;
-    (void)charArray;
-    (void)n;
 
-    return -1;
+    if (!smartphone_get_chars_width) {
+        return -1;
+    }
+
+    return (*smartphone_get_chars_width)(face, style, size, charArray, n);
 }
diff -Naur orig/midp/src/highlevelui/fb_application/reference/native/fbapp_export.c patched/midp/src/highlevelui/fb_application/reference/native/fbapp_export.c
--- orig/midp/src/highlevelui/fb_application/reference/native/fbapp_export.c	2012-02-02 16:22:11.000000000 +0100
+++ patched/midp/src/highlevelui/fb_application/reference/native/fbapp_export.c	2012-02-02 16:42:36.232675820 +0100
@@ -151,15 +151,16 @@
     }
 }
 
+int getScreenHeight();
+int getScreenWidth();
+
 /** Return screen width */
 int fbapp_get_screen_width(int hardwareId) {
     (void)hardwareId;
     if (reverse_orientation) {
-        return (isFullScreen == 1) ?
-            CHAM_FULLHEIGHT : CHAM_HEIGHT;
+        return getScreenHeight();
     } else {
-        return (isFullScreen == 1) ?
-            CHAM_FULLWIDTH : CHAM_WIDTH;
+        return getScreenWidth();
     }
 }
 
@@ -167,11 +168,9 @@
 int fbapp_get_screen_height(int hardwareId) {
     (void)hardwareId;
     if (reverse_orientation) {
-        return (isFullScreen == 1) ?
-            CHAM_FULLWIDTH : CHAM_WIDTH;
+        return getScreenWidth();
     } else {
-        return (isFullScreen == 1) ?
-            CHAM_FULLHEIGHT : CHAM_HEIGHT;
+        return getScreenHeight();
     }
 }
 
diff -Naur orig/midp/src/highlevelui/fb_port/lib.gmk patched/midp/src/highlevelui/fb_port/lib.gmk
--- orig/midp/src/highlevelui/fb_port/lib.gmk	2011-03-09 19:18:56.000000000 +0100
+++ patched/midp/src/highlevelui/fb_port/lib.gmk	2012-03-03 16:23:09.000000000 +0100
@@ -54,9 +54,5 @@
 ifeq ($(USE_DIRECTFB), true)
     include $(FBPORT_DIR)/directfb/lib.gmk
 else 
-ifeq ($(TARGET_CPU), arm)
-    include $(FBPORT_DIR)/fb/lib.gmk
-else
-    include $(FBPORT_DIR)/qvfb/lib.gmk
-endif
+    include $(FBPORT_DIR)/qt4/lib.gmk
 endif
diff -Naur orig/midp/src/highlevelui/fb_port/qt4/lib.gmk patched/midp/src/highlevelui/fb_port/qt4/lib.gmk
--- orig/midp/src/highlevelui/fb_port/qt4/lib.gmk	1970-01-01 01:00:00.000000000 +0100
+++ patched/midp/src/highlevelui/fb_port/qt4/lib.gmk	2012-03-03 16:23:09.000000000 +0100
@@ -0,0 +1,41 @@
+#
+#
+#
+# Copyright  1990-2007 Sun Microsystems, Inc. All Rights Reserved.
+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+# 
+# This program is free software; you can redistribute it and/or
+# modify it under the terms of the GNU General Public License version
+# 2 only, as published by the Free Software Foundation.
+# 
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+# General Public License version 2 for more details (a copy is
+# included at /legal/license.txt).
+# 
+# You should have received a copy of the GNU General Public License
+# version 2 along with this work; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+# 02110-1301 USA
+# 
+# Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+# Clara, CA 95054 or visit www.sun.com if you need additional
+# information or have any questions.
+#
+######################################################################
+#
+# Subsystem's Platform Configuration file
+#
+######################################################################
+
+FB_PORT_DIR=$(SUBSYSTEM_DIR)/highlevelui/fb_port/qt4
+
+# vpath for this platform specific files
+#
+vpath % $(FB_PORT_DIR)/native
+
+# Additional native files for the platform
+#
+SUBSYSTEM_APP_NATIVE_FILES += \
+    fb_port.c
diff -Naur orig/midp/src/highlevelui/fb_port/qt4/native/fb_port.c patched/midp/src/highlevelui/fb_port/qt4/native/fb_port.c
--- orig/midp/src/highlevelui/fb_port/qt4/native/fb_port.c	1970-01-01 01:00:00.000000000 +0100
+++ patched/midp/src/highlevelui/fb_port/qt4/native/fb_port.c	2012-03-24 17:52:20.000000000 +0100
@@ -0,0 +1,374 @@
+/*
+ *
+ *
+ * Copyright  1990-2007 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ *
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt).
+ *
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA
+ *
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+/**
+ * @file
+ * Implementation of the porting layer for generic fb application
+ */
+
+#include <stdlib.h>
+#include <netdb.h>
+#include <sys/socket.h>
+#include <netinet/in.h>
+#include <arpa/inet.h>
+
+#include <errno.h>
+#include <sys/ipc.h>
+#include <sys/ioctl.h>
+#include <sys/mman.h>
+
+#include <sys/stat.h>
+#include <sys/types.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <string.h>
+#include <stdio.h>
+#include <errno.h>
+#include <signal.h>
+#include <execinfo.h>
+#include <signal.h>
+#include <ucontext.h>
+
+#include <gxj_putpixel.h>
+#include <gxj_screen_buffer.h>
+#include <midp_logging.h>
+#include <midpMalloc.h>
+#include <midp_constants_data.h>
+
+#include <pthread.h>
+
+#include <fbapp_device_type.h>
+#include <fbapp_export.h>
+#include "fb_port.h"
+
+#include <keymap_input.h>
+
+#include <dlfcn.h>
+#include <execinfo.h>
+
+#include <jni.h>
+
+#include "portlibs/ansi_c/java.h"
+#include "javavm/export/jni.h"
+
+/**
+ * By default use fast copying of rotated pixel data.
+ * The assumptions required by fast copying implementation are supposed.
+ */
+#ifndef ENABLE_FAST_COPY_ROTATED
+#define ENABLE_FAST_COPY_ROTATED    1
+#endif
+
+#define MOUSE_FD "/tmp/mouse_fd"
+#define KEYBOARD_FD "/tmp/keyboard_fd"
+
+static int keyboardFd = -1;
+static int mouseFd = -1;
+
+typedef void repaint_func(void *);
+static repaint_func *repaintPixmap;
+
+static int surface_width = 800;
+static int surface_height = 480;
+
+typedef void exit_func(int);
+static exit_func *exitWrapper = NULL;
+
+static int stop_repainting = 0;
+
+typedef int invokeplatform_func(char **, int, char **);
+static invokeplatform_func *invoke_platform = NULL;
+
+/** System offscreen buffer */
+gxj_screen_buffer gxj_system_screen_buffer;
+
+/** Return file descriptor of keyboard device, or -1 in none */
+int getKeyboardFd() {
+    return keyboardFd;
+}
+/** Return file descriptor of mouse device, or -1 in none */
+int getMouseFd() {
+    return mouseFd;
+}
+
+/** Allocate system screen buffer according to the screen geometry */
+void initScreenBuffer(int width, int height) {
+    if (gxj_init_screen_buffer(width, height) != ALL_OK) {
+        fprintf(stderr, "Failed to allocate screen buffer\n");
+        exit(1);
+    }
+
+    midpFree(gxj_system_screen_buffer.pixelData);
+    gxj_system_screen_buffer.pixelData = (gxj_pixel_type *)midpMalloc(sizeof(gxj_pixel_type) * 854 * 480); // This is a quick hack to deal with full-screen windows
+}
+
+void initKeyboard() {
+    char buff[255];
+
+    sprintf(buff, "%s.%d", KEYBOARD_FD, getpid());
+    mkfifo(buff, 0777);
+    if ((keyboardFd = open(buff, O_RDONLY | O_NONBLOCK, 0)) < 0) {
+        fprintf(stderr, "ERROR: Open of %s failed\n", buff);
+        exit(1);
+    }
+}
+
+void initMouse() {
+    char buff[255];
+
+    sprintf(buff, "%s.%d", MOUSE_FD, getpid());
+    mkfifo(buff, 0777);
+    if ((mouseFd = open(buff, O_RDONLY | O_NONBLOCK, 0)) < 0) {
+        fprintf(stderr, "ERROR: Open of %s failed\n", buff);
+        exit(1);
+    }
+}
+
+static void cleanup() {
+    char buff[255];
+
+    sprintf(buff, "%s.%d", KEYBOARD_FD, getpid());
+    remove(buff);
+
+    sprintf(buff, "%s.%d", MOUSE_FD, getpid());
+    remove(buff);
+}
+
+void finalizeFrameBuffer();
+
+void __wrap_exit(int status) {
+    cleanup();
+
+    if (exitWrapper)
+        (*exitWrapper)(status);
+
+    // Exit process through Maemo instead!
+    /// __real_exit(status);
+}
+
+void exithandler(int sig) {
+    signal(sig, SIG_IGN);
+    /// finalizeFrameBuffer();
+    exit(0);
+}
+
+void initExit(exit_func *e) {
+    exitWrapper = e;
+}
+
+int getScreenWidth() {
+    return surface_width;
+}
+
+int getScreenHeight() {
+    return surface_height;
+}
+
+void initPixmap(int w, int h, repaint_func *f) {
+    surface_width = w;
+    surface_height = h;
+    repaintPixmap = f;
+}
+
+void repaint() {
+    if (stop_repainting)
+        return;
+
+    (*repaintPixmap)(gxj_system_screen_buffer.pixelData);
+}
+
+/** Inits frame buffer device */
+void initFrameBuffer() {
+    fb.depth = 16;
+    fb.lstep = gxj_system_screen_buffer.width * 4;
+    fb.xoff  = 0;
+    fb.yoff  = 0;
+    fb.width = gxj_system_screen_buffer.width;
+    fb.height= gxj_system_screen_buffer.height;
+    fb.data  = gxj_system_screen_buffer.pixelData;
+}
+
+/**
+ * Change screen orientation to landscape or portrait,
+ * depending on the current screen mode
+ */
+void reverseScreenOrientation() {
+    // Whether current Displayable won't repaint the entire screen on
+    // resize event, the artefacts from the old screen content can appear.
+    // That's why the buffer content is not preserved.
+    gxj_rotate_screen_buffer(KNI_FALSE);
+}
+
+/** Initialize frame buffer video device */
+void connectFrameBuffer() {
+    initFrameBuffer();
+    initKeyboard();
+    initMouse();
+}
+
+/** Clear screen content */
+void clearScreen() {
+    int n;
+
+    gxj_pixel_type *p = (gxj_pixel_type *)gxj_system_screen_buffer.pixelData;
+    gxj_pixel_type color = (gxj_pixel_type)GXJ_RGB2PIXEL(0xa0, 0xa0, 0x80);
+    for (n = fb.width * fb.height; n > 0; n--) {
+        *p ++ = color;
+    }
+    repaint();
+}
+
+/**
+ * Resizes system screen buffer to fit new screen geometry
+ * and set system screen dimensions accordingly.
+ * Call after frame buffer is initialized.
+ */
+void resizeScreenBuffer(int width, int height) {
+    gxj_system_screen_buffer.width = width;
+    gxj_system_screen_buffer.height = height;
+}
+
+/** Check if screen buffer is not bigger than frame buffer device */
+static void checkScreenBufferSize(int width, int height) {
+    // Check if frame buffer is big enough
+    if (fb.width < width || fb.height < height) {
+        fprintf(stderr, "Device screen too small. Need %dx%d\n", width, height);
+        exit(1);
+    }
+}
+
+/** Get x-coordinate of screen origin */
+int getScreenX(int screenRotated) {
+    // System screen buffer geometry
+    int bufWidth = gxj_system_screen_buffer.width;
+    int x = 0;
+    int LCDwidth = screenRotated ? fb.height : fb.width;
+    if (LCDwidth > bufWidth) {
+        x = (LCDwidth - bufWidth) / 2;
+    }
+    return x;
+}
+
+/** Get y-coordinate of screen origin */
+int getScreenY(int screenRotated) {
+    int bufHeight = gxj_system_screen_buffer.height;
+    int y = 0;
+    int LCDheight = screenRotated ? fb.width : fb.height;
+    if (LCDheight > bufHeight) {
+        y = (LCDheight - bufHeight) / 2;
+    }
+    return y;
+}
+
+/** Refresh screen from offscreen buffer */
+void refreshScreenNormal(int x1, int y1, int x2, int y2) {
+    repaint();
+}
+
+void refreshScreenRotated(int x1, int y1, int x2, int y2) {
+    repaint();
+}
+
+void resizeFrameBuffer(int width, int height) {
+    surface_width = width;
+    surface_height = height;
+
+    resizeScreenBuffer(width, height);
+
+    fb.width = gxj_system_screen_buffer.width;
+    fb.height= gxj_system_screen_buffer.height;
+}
+
+/** Frees allocated resources and restore system state */
+void finalizeFrameBuffer() {
+    stop_repainting = 1;
+
+    gxj_free_screen_buffer();
+
+    if (mouseFd > 0) {
+        close(mouseFd);
+        mouseFd = -1;
+    }
+    if (keyboardFd > 0) {
+        close(keyboardFd);
+        keyboardFd = -1;
+    }
+
+    cleanup();
+}
+
+void initPlatform(invokeplatform_func *f) {
+    invoke_platform = f;
+}
+
+JNIEXPORT jobjectArray JNICALL invokePlatform(JNIEnv *env, jclass clazz, jobjectArray params) {
+    char* invocation[16];
+    char* result[16];
+    int i;
+    int count;
+    jobjectArray ret;
+
+    for (i=0; i<16; i++) {
+        invocation[i] = malloc(256);
+        strcpy(invocation[i], "");
+    }
+    for (i=0; i<16; i++) {
+        result[i] = malloc(256);
+        strcpy(result[i], "");
+    }
+
+    count = (*env)->GetArrayLength(env, params);
+    for (i=0; i<count; i++) {
+        jstring jstr = (*env)->GetObjectArrayElement(env, params, i);
+        const char *str = (*env)->GetStringUTFChars(env, jstr, 0);
+        strcpy(invocation[i], str);
+        (*env)->ReleaseStringUTFChars(env, jstr, str);
+    }
+
+    if (invoke_platform) {
+        count = (*invoke_platform)(invocation, count, result);
+    } else {
+        count = 0;
+    }
+
+    ret = (jobjectArray)(*env)->NewObjectArray(env, count, (*env)->FindClass(env, "java/lang/String"), (*env)->NewStringUTF(env, ""));
+    for (i=0; i<count; i++) {
+        (*env)->SetObjectArrayElement(env, ret, i, (*env)->NewStringUTF(env, result[i]));
+    }
+
+    for (i=0; i<16; i++) {
+        free(invocation[i]);
+    }
+    for (i=0; i<16; i++) {
+        free(result[i]);
+    }
+
+    return ret;
+}
+
+int cvm_main(int argc, char **argv) {
+    return ansiJavaMain(argc, (const char **)argv, JNI_CreateJavaVM);
+}
diff -Naur orig/midp/src/highlevelui/fb_port/qt4/native/fb_port.h patched/midp/src/highlevelui/fb_port/qt4/native/fb_port.h
--- orig/midp/src/highlevelui/fb_port/qt4/native/fb_port.h	1970-01-01 01:00:00.000000000 +0100
+++ patched/midp/src/highlevelui/fb_port/qt4/native/fb_port.h	2012-03-03 16:23:09.000000000 +0100
@@ -0,0 +1,55 @@
+/*
+ *   
+ *
+ * Copyright  1990-2007 Sun Microsystems, Inc. All Rights Reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+ * 
+ * This program is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU General Public License version
+ * 2 only, as published by the Free Software Foundation.
+ * 
+ * This program is distributed in the hope that it will be useful, but
+ * WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+ * General Public License version 2 for more details (a copy is
+ * included at /legal/license.txt).
+ * 
+ * You should have received a copy of the GNU General Public License
+ * version 2 along with this work; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+ * 02110-1301 USA
+ * 
+ * Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+ * Clara, CA 95054 or visit www.sun.com if you need additional
+ * information or have any questions.
+ */
+
+#ifndef _FB_PORT_H_
+#define _FB_PORT_H_
+
+/**
+ * @file
+ * Internal declarations specific for generic fb application
+ */
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+struct {
+    unsigned short *data;
+    int width;
+    int height;
+    int depth;
+    int lstep;
+    int xoff;
+    int yoff;
+    int dataoffset;
+    int mapsize;
+} fb;
+
+#ifdef __cplusplus
+}
+#endif
+
+#endif /* _FB_PORT_H_ */
diff -Naur orig/midp/src/lowlevelui/putpixel_port/stubs/include/font_constants.h patched/midp/src/lowlevelui/putpixel_port/stubs/include/font_constants.h
--- orig/midp/src/lowlevelui/putpixel_port/stubs/include/font_constants.h	2011-02-10 12:09:45.000000000 +0100
+++ patched/midp/src/lowlevelui/putpixel_port/stubs/include/font_constants.h	2011-03-25 15:14:49.000000000 +0100
@@ -25,9 +25,9 @@
 #ifndef _FONT_CONSTANTS_H_
 #define _FONT_CONSTANTS_H_
 
-#define OEM_FONT_SIZE_SMALL   9
-#define OEM_FONT_SIZE_MEDIUM  13
-#define OEM_FONT_SIZE_LARGE   17
+#define OEM_FONT_SIZE_SMALL   18      // 24
+#define OEM_FONT_SIZE_MEDIUM  26      // 32
+#define OEM_FONT_SIZE_LARGE   32      // 38
 
 #endif /* _FONT_CONSTANTS_H_ */
 
diff -Naur orig/midp/build/linux_fb_gcc/Options.gmk patched/midp/build/linux_fb_gcc/Options.gmk
--- orig/midp/build/linux_fb_gcc/Options.gmk	2011-03-09 19:17:38.000000000 +0100
+++ patched/midp/build/linux_fb_gcc/Options.gmk	2011-08-24 10:44:15.000000000 +0200
@@ -35,8 +35,8 @@
 USE_VM_PROFILES         = false
 
 # SSL
-USE_SSL                 = false
-USE_RESTRICTED_CRYPTO   = false
+USE_SSL                 = true
+USE_RESTRICTED_CRYPTO   = true
 
 # JSRs
 USE_JSR_75              = false
@@ -94,9 +94,9 @@
 USE_AMS_EXECUTABLE      = true
 USE_OCSP                = false
 USE_DYNAMIC_COMPONENTS  = false
-USE_JAVA_VIRTUAL_KEYBOARD   = false
+USE_JAVA_VIRTUAL_KEYBOARD   = true
 USE_NATIVE_VIRTUAL_KEYBOARD = false
-USE_FINGER_TOUCH        = false
+USE_FINGER_TOUCH        = true
 USE_PUBLIC_AMS_API	= false
 
 # DIRECTFB 
@@ -119,7 +119,7 @@
 USE_SERVER_SOCKET       = true
 
 # JPEG decoding for putpixel
-USE_JPEG=false
+USE_JPEG=true
 
 # RESOURCE MANAGEMENT POLICY
 USE_FIXED               = false
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/constants_omap730.xml patched/midp/src/configuration/configuration_xml/linux_fb/constants_omap730.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/constants_omap730.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_fb/constants_omap730.xml	2011-08-24 10:44:15.000000000 +0200
@@ -28,11 +28,11 @@
 <constant_class Package="com.sun.midp.configurator" Name="Constants" Scope="public">
   <constant Type="boolean"
             Name="POINTER_SUPPORTED"
-            Value="false" 
+            Value="true" 
             Comment="Whether both the platform and MIDP implementation provide support for a pointer (press and release). Set to true when pointer is supported; set to false when pointer is not supported."/>
   <constant Type="boolean"
             Name="MOTION_SUPPORTED"
-            Value="false" 
+            Value="true" 
             Comment="If your platform supports pointer motion and you want MIDP implementation provides support for pointer motions, set it to true; otherwise, set it to false so that MIDP runtime can provide this information to MIDlet."/>
   <constant Type="boolean"
             Name="REPEAT_SUPPORTED"
diff -Naur orig/midp/src/configuration/configuration_xml/linux_qte/constants_omap730.xml patched/midp/src/configuration/configuration_xml/linux_qte/constants_omap730.xml
--- orig/midp/src/configuration/configuration_xml/linux_qte/constants_omap730.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_qte/constants_omap730.xml	2011-08-24 10:44:15.000000000 +0200
@@ -28,11 +28,11 @@
 <constant_class Package="com.sun.midp.configurator" Name="Constants" Scope="public">
   <constant Type="boolean"
             Name="POINTER_SUPPORTED"
-            Value="false" 
+            Value="true" 
             Comment="Whether both the platform and MIDP implementation provide support for a pointer (press and release). Set to true when pointer is supported; set to false when pointer is not supported."/>
   <constant Type="boolean"
             Name="MOTION_SUPPORTED"
-            Value="false" 
+            Value="true" 
             Comment="If your platform supports pointer motion and you want MIDP implementation provides support for pointer motions, set it to true; otherwise, set it to false so that MIDP runtime can provide this information to MIDlet."/>
   <constant Type="boolean"
             Name="REPEAT_SUPPORTED"
diff -Naur orig/midp/src/i18n/i18n_port/default/native/defaultLocale.c patched/midp/src/i18n/i18n_port/default/native/defaultLocale.c
--- orig/midp/src/i18n/i18n_port/default/native/defaultLocale.c	2011-03-09 19:17:40.000000000 +0100
+++ patched/midp/src/i18n/i18n_port/default/native/defaultLocale.c	2011-08-24 10:44:15.000000000 +0200
@@ -24,6 +24,8 @@
  * information or have any questions.
  */
 
+#include <stdio.h>
+#include <stdlib.h>
 #include <locale.h>
 
 void
diff -Naur orig/midp/src/rms/rms_base/reference/native/recordStoreUtil.c patched/midp/src/rms/rms_base/reference/native/recordStoreUtil.c
--- orig/midp/src/rms/rms_base/reference/native/recordStoreUtil.c	2011-03-09 19:18:08.000000000 +0100
+++ patched/midp/src/rms/rms_base/reference/native/recordStoreUtil.c	2011-08-24 10:44:15.000000000 +0200
@@ -85,7 +85,7 @@
  *         internally.
  */
 
-KNIEXPORT KNI_RETURNTYPE_BOOLEAN
+KNIEXPORT KNI_RETURNTYPE_VOID
 KNIDECL(com_sun_midp_rms_RecordStoreUtil_deleteFile) {
     int extension = KNI_GetParameterAsInt(3);
     jboolean existed = KNI_FALSE;
@@ -118,6 +118,6 @@
 
     KNI_EndHandles();
 
-    KNI_ReturnBoolean(existed);
+    KNI_ReturnVoid();
 }
 
diff -Naur orig/midp/src/core/vm_services/cdc_vm/linux_fb/native/cdc_natives.c patched/midp/src/core/vm_services/cdc_vm/linux_fb/native/cdc_natives.c
--- orig/midp/src/core/vm_services/cdc_vm/linux_fb/native/cdc_natives.c	2011-03-09 18:54:49.000000000 +0100
+++ patched/midp/src/core/vm_services/cdc_vm/linux_fb/native/cdc_natives.c	2011-03-10 11:25:28.000000000 +0100
@@ -407,6 +407,7 @@
     int keyboard_has_event = 0;
 #else
     int keyboardFd = fbapp_get_keyboard_fd();
+    int mouseFd = fbapp_get_mouse_fd();
 #endif /* defined(DIRECTFB) */
     int done = 0;
 
@@ -429,6 +430,14 @@
             }
         }
 
+        mouseFd = fbapp_get_mouse_fd();
+        if (mouseFd >= 0) {
+            FD_SET(mouseFd, &read_fds);
+            if (num_fds <= mouseFd) {
+                num_fds = mouseFd + 1;
+            }
+        }
+
         CVMD_gcSafeExec(_ee, {
             num_ready= select(num_fds+1, &read_fds, &write_fds, &except_fds,
                               NULL);
@@ -498,6 +507,29 @@
 #endif
                     done = 1;
                 }
+            } else if (FD_ISSET(mouseFd, &read_fds)) {
+                newSignal.waitingFor = 0;
+                newSignal.pResult = NULL;
+                MIDP_EVENT_INITIALIZE(newMidpEvent);
+
+                handlePointer(&newSignal, &newMidpEvent);
+                /* Need to set the event DISPLAY (intParam4) to forground. See
+                   midpStoreEventAndSignalForeground() in midpEventUtil.c. */
+                newMidpEvent.DISPLAY = gForegroundDisplayId;
+                if (newSignal.waitingFor == UI_SIGNAL
+                    || newSignal.waitingFor == AMS_SIGNAL) {
+                    KNI_SetIntField(eventObj, typeFieldID, newMidpEvent.type);
+                    KNI_SetIntField(eventObj, intParam1FieldID,
+                                    newMidpEvent.intParam1);
+                    KNI_SetIntField(eventObj, intParam2FieldID,
+                                    newMidpEvent.intParam2);
+                    KNI_SetIntField(eventObj, intParam3FieldID,
+                                    newMidpEvent.intParam3);
+                    KNI_SetIntField(eventObj, intParam4FieldID,
+                                    newMidpEvent.intParam4);
+
+                    done = 1;
+                }
             } else if (FD_ISSET(controlPipe[0], &read_fds)) {
                 readControlIntField(eventObj, typeFieldID);
                 readControlIntField(eventObj, intParam1FieldID);
diff -Naur orig/midp/src/events/input_port/fb/native/fb_handle_input.c patched/midp/src/events/input_port/fb/native/fb_handle_input.c
--- orig/midp/src/events/input_port/fb/native/fb_handle_input.c	2011-03-09 18:52:28.000000000 +0100
+++ patched/midp/src/events/input_port/fb/native/fb_handle_input.c	2011-04-01 21:34:04.761794965 +0200
@@ -108,24 +108,10 @@
     if (!done) {
         done = KNI_TRUE;
         memset(&keyState, 0, sizeof(keyState));
-        switch (fbapp_get_fb_device_type()) {
-        case LINUX_FB_OMAP730:
-            mapping = omap_730_keys;
-            bitscale_mode = KNI_TRUE;
-            readKeyEvent = read_omap730_key_event;
-            break;
-        case LINUX_FB_ZAURUS:
-            mapping = zaurus_sl5500_keys;
-            bitscale_mode = KNI_FALSE;
-            readKeyEvent = read_char_key_event;
-            break;
-        case LINUX_FB_VERSATILE_INTEGRATOR:
-        default:
-            mapping = versatile_integrator_keys;
-            bitscale_mode = KNI_FALSE;
-            readKeyEvent = read_char_key_event;
-            break;
-        }
+        mapping = smartphone_keys;
+        bitscale_mode = KNI_FALSE;
+        readKeyEvent = read_char_key_event;
+
 #ifdef DIRECTFB
         /* DirectFB provides generic function to read input key events */
         readKeyEvent = read_directfb_key_event;
@@ -171,6 +157,21 @@
             } else if (km->raw_keyup == key) {
                 down = 0;
                 break;
+            } else if (km->raw_keydown == key - 0x010000) { // Key up = Key down + 0x010000
+                down = 0;
+                break;
+            }
+        }
+        if (km->midp_keycode == KEYMAP_KEY_INVALID) {
+            km++;
+            if (key > 0x010000) {
+                down = 0;
+                km->raw_keydown == key - 0x010000;
+                km->raw_keyup == key - 0x010000;
+            } else {
+                down = 1;
+                km->raw_keydown == key;
+                km->raw_keyup == key;
             }
         }
     }
@@ -211,6 +212,10 @@
    }
 }
 
+int min(int a, int b) {
+    return (a < b ? a : b);
+}
+
 /**
  * ARM version to read mouse events.
  * By default it's empty because currently it does not supported pointer events
@@ -220,8 +225,87 @@
  * @param pNewMidpEvent     a native MIDP event to be stored to Java event queue
  */
 void handle_pointer_port(MidpReentryData* pNewSignal, MidpEvent* pNewMidpEvent) {
-    (void)pNewSignal;
-    (void)pNewMidpEvent;
+    int maxX, maxY, screenX, screenY, d1, d2;
+    int n;
+    int id;
+    static const int mouseBufSize = 12;
+    unsigned char mouseBuf[mouseBufSize];
+    int mouseIdx = 0;
+    jboolean pressed = KNI_FALSE;
+
+    static struct {
+        int x;
+        int y;
+        int state;
+    } pointer;
+
+    do {
+        n = read(fbapp_get_mouse_fd(), mouseBuf + mouseIdx,
+                mouseBufSize - mouseIdx);
+        if ( n > 0 )
+            mouseIdx += n;
+    } while ( n > 0 );
+
+    /* unexpected data size.  Broken package, no handling - just return */
+    if (mouseIdx < mouseBufSize)
+        return;
+
+    pNewMidpEvent->type = MIDP_PEN_EVENT;
+    id = fbapp_get_current_hardwareId();
+    screenX = fbapp_get_screen_x(id);
+    screenY = fbapp_get_screen_y(id);
+    maxX = fbapp_get_screen_width(id);
+    maxY = fbapp_get_screen_height(id);
+
+    d1 = (((int)mouseBuf[3]) << 24) +
+        (((int)mouseBuf[2]) << 16) +
+        (((int)mouseBuf[1]) << 8) +
+        (int)mouseBuf[0];
+
+    d2 = (((int)mouseBuf[7]) << 24) +
+        (((int)mouseBuf[6]) << 16) +
+        (((int)mouseBuf[5]) << 8) +
+        (int)mouseBuf[4];
+
+    if (fbapp_get_reverse_orientation(id)) {
+        pNewMidpEvent->X_POS = min(maxX - d2, maxX) + screenX;
+        pNewMidpEvent->Y_POS = min(d1 - screenY, maxY);
+    } else {
+        pNewMidpEvent->X_POS = min(d1 - screenX, maxX);
+        pNewMidpEvent->Y_POS = min(d2 - screenY, maxY);
+    }
+
+    if (pNewMidpEvent->X_POS < 0) {
+        pNewMidpEvent->X_POS = 0;
+    }
+
+    if (pNewMidpEvent->Y_POS < 0) {
+        pNewMidpEvent->Y_POS = 0;
+    }
+
+    pressed = mouseBuf[8]  ||
+        mouseBuf[9]  ||
+        mouseBuf[10] ||
+        mouseBuf[11];
+
+    if (pressed) {
+        if ((pointer.state == KEYMAP_STATE_PRESSED) || (pointer.state == KEYMAP_STATE_DRAGGED)) {
+            pNewMidpEvent->ACTION = KEYMAP_STATE_DRAGGED;
+        } else {
+            pNewMidpEvent->ACTION = KEYMAP_STATE_PRESSED;
+        }
+    } else {
+        pNewMidpEvent->ACTION = KEYMAP_STATE_RELEASED;
+    }
+
+    if ( pNewMidpEvent->ACTION != -1 ) {
+        pNewSignal->waitingFor = UI_SIGNAL;
+    }
+
+    /* keep the previous coordinates to detect dragged event */
+    pointer.x = pNewMidpEvent->X_POS;
+    pointer.y = pNewMidpEvent->Y_POS;
+    pointer.state = pNewMidpEvent->ACTION;
 }
 
 /**
diff -Naur orig/javacall/configuration/phoneMEAdvanced/linux_arm/GNUmakefile patched/javacall/configuration/phoneMEAdvanced/linux_arm/GNUmakefile
--- orig/javacall/configuration/phoneMEAdvanced/linux_arm/GNUmakefile	1970-01-01 01:00:00.000000000 +0100
+++ patched/javacall/configuration/phoneMEAdvanced/linux_arm/GNUmakefile	2010-10-13 22:18:18.000000000 +0200
@@ -0,0 +1,28 @@
+#
+#
+# Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+# 
+# This program is free software; you can redistribute it and/or
+# modify it under the terms of the GNU General Public License version
+# 2 only, as published by the Free Software Foundation. 
+# 
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+# General Public License version 2 for more details (a copy is
+# included at /legal/license.txt). 
+# 
+# You should have received a copy of the GNU General Public License
+# version 2 along with this work; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+# 02110-1301 USA 
+# 
+# Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+# Clara, CA 95054 or visit www.sun.com if you need additional
+# information or have any questions. 
+#
+
+all:
+pre_target:
+post_target:
diff -Naur orig/javacall/configuration/phoneMEAdvanced/linux_arm/module.gmk patched/javacall/configuration/phoneMEAdvanced/linux_arm/module.gmk
--- orig/javacall/configuration/phoneMEAdvanced/linux_arm/module.gmk	1970-01-01 01:00:00.000000000 +0100
+++ patched/javacall/configuration/phoneMEAdvanced/linux_arm/module.gmk	2010-10-13 22:17:40.000000000 +0200
@@ -0,0 +1,54 @@
+#
+#   
+#
+# Copyright  1990-2006 Sun Microsystems, Inc. All Rights Reserved.
+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER
+# 
+# This program is free software; you can redistribute it and/or
+# modify it under the terms of the GNU General Public License version
+# 2 only, as published by the Free Software Foundation. 
+# 
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+# General Public License version 2 for more details (a copy is
+# included at /legal/license.txt). 
+# 
+# You should have received a copy of the GNU General Public License
+# version 2 along with this work; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
+# 02110-1301 USA 
+# 
+# Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
+# Clara, CA 95054 or visit www.sun.com if you need additional
+# information or have any questions. 
+#
+######################################################################
+#
+# Module's Component Configuration file
+#
+# Remember: It is up to the module itself to impose rules of
+# how to compile the options. All the global Makefile needs
+# is the final def. of Java and native file lists and some
+# other def. (like VPATH)
+#
+######################################################################
+
+#####################################################
+JAVACALL_LIB_NAME     = javacall
+JAVACALL_BUILD_DIR    = $(CURDIR)/$(CVM_BUILD_SUBDIR_NAME)/$(JAVACALL_LIB_NAME)
+JAVACALL_INCLUDE_DIRS = $(JAVACALL_BUILD_DIR)/inc
+ifeq ($(CVM_STATICLINK_LIBS),true)
+LIB_EXT = a
+JAVACALL_SHARED_LIB   = false
+else
+LIB_EXT = so
+JAVACALL_SHARED_LIB   = true
+endif
+
+JAVACALL_LIB_FILE     = $(LIB_PREFIX)$(JAVACALL_LIB_NAME)$(DEBUG_POSTFIX).$(LIB_EXT)
+JAVACALL_LIBRARY      = $(JSROP_LIB_DIR)/$(JAVACALL_LIB_FILE)
+
+source_bundle::
+
+$(JAVACALL_LIBRARY):
diff -Naur orig/midp/src/events/input_port/fb/native/fb_keymapping.c patched/midp/src/events/input_port/fb/native/fb_keymapping.c
--- orig/midp/src/events/input_port/fb/native/fb_keymapping.c	2011-03-09 18:55:59.000000000 +0100
+++ patched/midp/src/events/input_port/fb/native/fb_keymapping.c	2011-04-01 21:30:36.701795932 +0200
@@ -39,6 +39,266 @@
 KeyMapping *mapping = NULL;
 jboolean bitscale_mode = KNI_FALSE;
 
+/** Keyboard info for the smartphone */
+
+KeyMapping smartphone_keys[] = {
+    {KEYMAP_KEY_0,               '0',     0},
+    {KEYMAP_KEY_1,               '1',     0},
+    {KEYMAP_KEY_2,               '2',     0},
+    {KEYMAP_KEY_3,               '3',     0},
+    {KEYMAP_KEY_4,               '4',     0},
+    {KEYMAP_KEY_5,               '5',     0},
+    {KEYMAP_KEY_6,               '6',     0},
+    {KEYMAP_KEY_7,               '7',     0},
+    {KEYMAP_KEY_8,               '8',     0},
+    {KEYMAP_KEY_9,               '9',     0},
+    {KEYMAP_KEY_SPACE,           ' ',     0},
+
+    {KEYMAP_KEY_SELECT,         '\r',     0},  // CR
+    {KEYMAP_KEY_BACKSPACE,      0x7f,     0},  // BS
+    {KEYMAP_KEY_CLEAR,          0x1b,     0},  // ESC
+
+    {KEYMAP_KEY_POUND,           '#',     0},
+    {KEYMAP_KEY_ASTERISK,        '*',     0},
+
+    {KEYMAP_KEY_GAMEA,           '7',     0},  // 7
+    {KEYMAP_KEY_GAMEB,           '9',     0},  // 9
+    {KEYMAP_KEY_GAMEC,           '#',     0},  // pound
+    {KEYMAP_KEY_GAMED,           '*',     0},  // asterisk
+
+    {KEYMAP_KEY_UP,             0x01,     0},
+    {KEYMAP_KEY_DOWN,           0x02,     0},
+    {KEYMAP_KEY_LEFT,           0x03,     0},
+    {KEYMAP_KEY_RIGHT,          0x04,     0},
+    {KEYMAP_KEY_SOFT1,          0x05,     0},
+    {KEYMAP_KEY_SOFT2,          0x06,     0},
+
+    {KEYMAP_KEY_POWER,          0x11,     0},
+    {KEYMAP_KEY_END,            0x12,     0},
+    {KEYMAP_KEY_SEND,           0x13,     0},
+    {KEYMAP_KEY_VIRT_KEYB,      0x14,     0},
+    {KEYMAP_KEY_SCREEN_ROT,     0x15,     0},
+
+    {KEYMAP_KEY_GAME_UP,        0x01,     0},
+    {KEYMAP_KEY_GAME_DOWN,      0x02,     0},
+    {KEYMAP_KEY_GAME_LEFT,      0x03,     0},
+    {KEYMAP_KEY_GAME_RIGHT,     0x04,     0},
+
+    {0x08,                      '\b',     0},
+    {0x09,                      '\t',     0},
+    {0x0a,                      '\n',     0},
+    {0x0d,                      '\r',     0},
+
+    {0x20,                      0x20,     0},
+    {0x21,                      0x21,     0},
+    {0x22,                      0x22,     0},
+    {0x23,                      0x23,     0},
+    {0x24,                      0x24,     0},
+    {0x25,                      0x25,     0},
+    {0x26,                      0x26,     0},
+    {0x27,                      0x27,     0},
+    {0x28,                      0x28,     0},
+    {0x29,                      0x29,     0},
+    {0x2a,                      0x2a,     0},
+    {0x2b,                      0x2b,     0},
+    {0x2c,                      0x2c,     0},
+    {0x2d,                      0x2d,     0},
+    {0x2e,                      0x2e,     0},
+    {0x2f,                      0x2f,     0},
+
+    {0x30,                      0x30,     0},
+    {0x31,                      0x31,     0},
+    {0x32,                      0x32,     0},
+    {0x33,                      0x33,     0},
+    {0x34,                      0x34,     0},
+    {0x35,                      0x35,     0},
+    {0x36,                      0x36,     0},
+    {0x37,                      0x37,     0},
+    {0x38,                      0x38,     0},
+    {0x39,                      0x39,     0},
+    {0x3a,                      0x3a,     0},
+    {0x3b,                      0x3b,     0},
+    {0x3c,                      0x3c,     0},
+    {0x3d,                      0x3d,     0},
+    {0x3e,                      0x3e,     0},
+    {0x3f,                      0x3f,     0},
+
+    {0x40,                      0x40,     0},
+    {0x41,                      0x41,     0},
+    {0x42,                      0x42,     0},
+    {0x43,                      0x43,     0},
+    {0x44,                      0x44,     0},
+    {0x45,                      0x45,     0},
+    {0x46,                      0x46,     0},
+    {0x47,                      0x47,     0},
+    {0x48,                      0x48,     0},
+    {0x49,                      0x49,     0},
+    {0x4a,                      0x4a,     0},
+    {0x4b,                      0x4b,     0},
+    {0x4c,                      0x4c,     0},
+    {0x4d,                      0x4d,     0},
+    {0x4e,                      0x4e,     0},
+    {0x4f,                      0x4f,     0},
+
+    {0x50,                      0x50,     0},
+    {0x51,                      0x51,     0},
+    {0x52,                      0x52,     0},
+    {0x53,                      0x53,     0},
+    {0x54,                      0x54,     0},
+    {0x55,                      0x55,     0},
+    {0x56,                      0x56,     0},
+    {0x57,                      0x57,     0},
+    {0x58,                      0x58,     0},
+    {0x59,                      0x59,     0},
+    {0x5a,                      0x5a,     0},
+    {0x5b,                      0x5b,     0},
+    {0x5c,                      0x5c,     0},
+    {0x5d,                      0x5d,     0},
+    {0x5e,                      0x5e,     0},
+    {0x5f,                      0x5f,     0},
+
+    {0x60,                      0x60,     0},
+    {0x61,                      0x61,     0},
+    {0x62,                      0x62,     0},
+    {0x63,                      0x63,     0},
+    {0x64,                      0x64,     0},
+    {0x65,                      0x65,     0},
+    {0x66,                      0x66,     0},
+    {0x67,                      0x67,     0},
+    {0x68,                      0x68,     0},
+    {0x69,                      0x69,     0},
+    {0x6a,                      0x6a,     0},
+    {0x6b,                      0x6b,     0},
+    {0x6c,                      0x6c,     0},
+    {0x6d,                      0x6d,     0},
+    {0x6e,                      0x6e,     0},
+    {0x6f,                      0x6f,     0},
+
+    {0x70,                      0x70,     0},
+    {0x71,                      0x71,     0},
+    {0x72,                      0x72,     0},
+    {0x73,                      0x73,     0},
+    {0x74,                      0x74,     0},
+    {0x75,                      0x75,     0},
+    {0x76,                      0x76,     0},
+    {0x77,                      0x77,     0},
+    {0x78,                      0x78,     0},
+    {0x79,                      0x79,     0},
+    {0x7a,                      0x7a,     0},
+    {0x7b,                      0x7b,     0},
+    {0x7c,                      0x7c,     0},
+    {0x7d,                      0x7d,     0},
+    {0x7e,                      0x7e,     0},
+    // {0x7f,                      0x7f,     0},
+
+    {0xa0,                      0xa0,     0},
+    {0xa1,                      0xa1,     0},
+    {0xa2,                      0xa2,     0},
+    {0xa3,                      0xa3,     0},
+    {0xa4,                      0xa4,     0},
+    {0xa5,                      0xa5,     0},
+    {0xa6,                      0xa6,     0},
+    {0xa7,                      0xa7,     0},
+    {0xa8,                      0xa8,     0},
+    {0xa9,                      0xa9,     0},
+    {0xaa,                      0xaa,     0},
+    {0xab,                      0xab,     0},
+    {0xac,                      0xac,     0},
+    {0xad,                      0xad,     0},
+    {0xae,                      0xae,     0},
+    {0xaf,                      0xaf,     0},
+
+    {0xb0,                      0xb0,     0},
+    {0xb1,                      0xb1,     0},
+    {0xb2,                      0xb2,     0},
+    {0xb3,                      0xb3,     0},
+    {0xb4,                      0xb4,     0},
+    {0xb5,                      0xb5,     0},
+    {0xb6,                      0xb6,     0},
+    {0xb7,                      0xb7,     0},
+    {0xb8,                      0xb8,     0},
+    {0xb9,                      0xb9,     0},
+    {0xba,                      0xba,     0},
+    {0xbb,                      0xbb,     0},
+    {0xbc,                      0xbc,     0},
+    {0xbd,                      0xbd,     0},
+    {0xbe,                      0xbe,     0},
+    {0xbf,                      0xbf,     0},
+
+    {0xc0,                      0xc0,     0},
+    {0xc1,                      0xc1,     0},
+    {0xc2,                      0xc2,     0},
+    {0xc3,                      0xc3,     0},
+    {0xc4,                      0xc4,     0},
+    {0xc5,                      0xc5,     0},
+    {0xc6,                      0xc6,     0},
+    {0xc7,                      0xc7,     0},
+    {0xc8,                      0xc8,     0},
+    {0xc9,                      0xc9,     0},
+    {0xca,                      0xca,     0},
+    {0xcb,                      0xcb,     0},
+    {0xcc,                      0xcc,     0},
+    {0xcd,                      0xcd,     0},
+    {0xce,                      0xce,     0},
+    {0xcf,                      0xcf,     0},
+
+    {0xd0,                      0xd0,     0},
+    {0xd1,                      0xd1,     0},
+    {0xd2,                      0xd2,     0},
+    {0xd3,                      0xd3,     0},
+    {0xd4,                      0xd4,     0},
+    {0xd5,                      0xd5,     0},
+    {0xd6,                      0xd6,     0},
+    {0xd7,                      0xd7,     0},
+    {0xd8,                      0xd8,     0},
+    {0xd9,                      0xd9,     0},
+    {0xda,                      0xda,     0},
+    {0xdb,                      0xdb,     0},
+    {0xdc,                      0xdc,     0},
+    {0xdd,                      0xdd,     0},
+    {0xde,                      0xde,     0},
+    {0xdf,                      0xdf,     0},
+
+    {0xe0,                      0xe0,     0},
+    {0xe1,                      0xe1,     0},
+    {0xe2,                      0xe2,     0},
+    {0xe3,                      0xe3,     0},
+    {0xe4,                      0xe4,     0},
+    {0xe5,                      0xe5,     0},
+    {0xe6,                      0xe6,     0},
+    {0xe7,                      0xe7,     0},
+    {0xe8,                      0xe8,     0},
+    {0xe9,                      0xe9,     0},
+    {0xea,                      0xea,     0},
+    {0xeb,                      0xeb,     0},
+    {0xec,                      0xec,     0},
+    {0xed,                      0xed,     0},
+    {0xee,                      0xee,     0},
+    {0xef,                      0xef,     0},
+
+    {0xf0,                      0xf0,     0},
+    {0xf1,                      0xf1,     0},
+    {0xf2,                      0xf2,     0},
+    {0xf3,                      0xf3,     0},
+    {0xf4,                      0xf4,     0},
+    {0xf5,                      0xf5,     0},
+    {0xf6,                      0xf6,     0},
+    {0xf7,                      0xf7,     0},
+    {0xf8,                      0xf8,     0},
+    {0xf9,                      0xf9,     0},
+    {0xfa,                      0xfa,     0},
+    {0xfb,                      0xfb,     0},
+    {0xfc,                      0xfc,     0},
+    {0xfd,                      0xfd,     0},
+    {0xfe,                      0xfe,     0},
+    {0xff,                      0xff,     0},
+
+    {KEYMAP_KEY_INVALID,           0,     0},
+
+    {0x00,                      0x00,     0},
+
+};
+
 /** Keyboard info for the ARM Versatile and Integrator boards */
 KeyMapping versatile_integrator_keys[] = {
     {KEYMAP_KEY_0,                11,   139},
diff -Naur orig/midp/src/events/input_port/fb/native/fb_keymapping.h patched/midp/src/events/input_port/fb/native/fb_keymapping.h
--- orig/midp/src/events/input_port/fb/native/fb_keymapping.h	2011-03-09 18:55:59.000000000 +0100
+++ patched/midp/src/events/input_port/fb/native/fb_keymapping.h	2011-03-09 18:58:08.000000000 +0100
@@ -45,6 +45,9 @@
     unsigned raw_keyup;
 } KeyMapping;
 
+/** Keyboard info for the smartphone */
+extern KeyMapping smartphone_keys[];
+
 /** Keyboard info for the ARM Versatile and Integrator boards */
 extern KeyMapping versatile_integrator_keys[];
 
diff -Naur orig/midp/src/highlevelui/lcdlf/classes/javax/microedition/lcdui/DisplayableLF.java patched/midp/src/highlevelui/lcdlf/classes/javax/microedition/lcdui/DisplayableLF.java
--- orig/midp/src/highlevelui/lcdlf/classes/javax/microedition/lcdui/DisplayableLF.java	2009-10-08 13:26:50.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/classes/javax/microedition/lcdui/DisplayableLF.java	2009-10-08 22:11:49.000000000 +0200
@@ -241,22 +241,6 @@
      */
     void uCallScrollContent(int scrollType, int thumbPosition);
 
-    /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    boolean uIsDraggable(int x, int y);
-
-    /**
-     * This method notifies displayable to drag its content
-     *
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    int uCallDragContent(int deltaY);
-
     boolean uSetRotatedStatus (boolean newStatus);
 
     /**
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/ChamDisplayTunnel.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/ChamDisplayTunnel.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/ChamDisplayTunnel.java	2009-10-08 13:26:48.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/ChamDisplayTunnel.java	2009-10-08 22:11:49.000000000 +0200
@@ -105,23 +105,6 @@
     public void callScrollContent(int scrollType, int thumbPosition);
 
     /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    public boolean callIsDraggable(int x, int y);
-
-    /**
-     * This method is used by Chameleon to invoke
-     * Displayable.uCallDragContent() method.
-     *
-     * @param deltaY 
-     * @return desired drag amount to become stable
-     */
-    public int callDragContent(int deltaY);
-
-    /**
      * Updates the scroll indicator.
      */
     public void updateScrollIndicator();
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/CWindow.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/CWindow.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/CWindow.java	2009-10-08 13:26:48.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/CWindow.java	2009-10-08 22:11:49.000000000 +0200
@@ -27,8 +27,6 @@
 package com.sun.midp.chameleon;
 
 import com.sun.midp.chameleon.layers.BackgroundLayer;
-import com.sun.midp.lcdui.EventConstants;
-
 import javax.microedition.lcdui.*;
 
 /**
@@ -77,9 +75,6 @@
     /** Layers replication to not keep the lock on painting */
     protected CLayer[] dirtyLayers = new CLayer[dirtyMaxCount];
 
-    /** Layer currently accepting pen events */
-    protected CLayer layerUnderPen;
-
     /**
      * Background layer of this window, should be the bottom most layer
      * of the window, can be invisible for transparent windows. 
@@ -266,17 +261,12 @@
     public boolean pointerInput(int type, int x, int y) {
         CLayer layer;
         synchronized (layers) {
-            CLayer newLayerUnderPen = null;
             for (CLayerElement le = layers.getTop();
                     le != null; le = le.getLower()) {
                 layer = le.getLayer();
                 if (layer.visible && layer.supportsInput &&
                     layer.handlePoint(x, y))
                 {
-                    // remeber topmost layer under pen
-                    if (newLayerUnderPen == null) {
-                        newLayerUnderPen = layer;
-                    }
                     // If the layer is visible, supports input, and
                     // contains the point of the pointer press, we translate
                     // the point into the layer's coordinate space and
@@ -284,20 +274,10 @@
                     if (layer.pointerInput(type, x - layer.bounds[X],
                                            y - layer.bounds[Y]))
                     {
-                        if (layerUnderPen != null && newLayerUnderPen != layerUnderPen) {
-                            layerUnderPen.pointerInput(EventConstants.GONE, -1, -1);
-                        }
-                        layerUnderPen = newLayerUnderPen;
                         return true;
                     }
                 }
             }
-
-            if (layerUnderPen != null && newLayerUnderPen != layerUnderPen) {
-                layerUnderPen.pointerInput(EventConstants.GONE, -1, -1);
-            }
-            layerUnderPen = newLayerUnderPen;
-
         } // sync
         return false;
     }
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/BodyLayer.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/BodyLayer.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/BodyLayer.java	2009-10-08 13:26:45.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/BodyLayer.java	2009-10-08 22:16:15.000000000 +0200
@@ -39,7 +39,7 @@
  * contains the current Displayable contents, such as a Form or Canvas.
  */
 public class BodyLayer extends CLayer
-    implements ScrollListener, GestureAnimatorListener {
+    implements ScrollListener {
 
     /**
      * The scroll indicator layer to notify of scroll settings
@@ -51,22 +51,6 @@
     ChamDisplayTunnel tunnel;
 
     /**
-     *  Y coordinate of pointer during pointer drag event.
-     */
-    private int pointerY = Integer.MAX_VALUE;
-    
-    /**
-     *  Desired drag amount needed to return content
-     *  to the stable position.
-     */
-    private int stableY = 0;
-
-    /**
-     * Last delta of pointer y coordinate during drag operation.
-     */
-    private int pointerDeltaY = 0;
-
-    /**
      * Create a new BodyLayer.
      *
      * @param tunnel BodyLayer needs a "tunnel" class to cross the package
@@ -94,7 +78,7 @@
         super(bgImage, bgColor);
         this.tunnel = tunnel;
         this.visible = false;
-        setSupportsInput(true);
+
         setScrollInd(ScrollIndLayer.getInstance(ScrollIndSkin.MODE));
     }
     
@@ -115,7 +99,6 @@
         super(bgImage, bgColor);
         this.tunnel = tunnel;
         this.visible = false;
-        setSupportsInput(true);
         setScrollInd(ScrollIndLayer.getInstance(ScrollIndSkin.MODE));
     }
 
@@ -377,68 +360,5 @@
             scrollInd.setBounds();             
         }
     }
-
-    /**
-     * Handle input from a pen tap.
-     *
-     * Parameters describe the type of pen event and the x,y location in the
-     * layer at which the event occurred.
-     *
-     * Important: the x,y location of the pen tap will already be translated
-     * into the coordinate space of the layer.
-     *
-     * @param type the type of pen event
-     * @param x the x coordinate of the event
-     * @param y the y coordinate of the event
-     * @return
-     */
-    public boolean pointerInput(int type, int x, int y) {
-        if (tunnel != null) {
-            switch (type) {
-                case EventConstants.PRESSED:
-                    if (tunnel.callIsDraggable(x, y)) {
-                        pointerY = y;
-                    } else {
-                        pointerY = Integer.MAX_VALUE;                        
-                    }
-                    break;
-                case EventConstants.DRAGGED:
-                    if (pointerY != Integer.MAX_VALUE) {
-                        pointerDeltaY = pointerY - y;
-                        stableY = tunnel.callDragContent(pointerDeltaY);
-                        pointerY = y;
-                    }
-                    break;
-                case EventConstants.FLICKERED:
-                    if (pointerY != Integer.MAX_VALUE && pointerDeltaY != 0) {
-                        GestureAnimator.flick(this, pointerDeltaY);
-                        stableY = 0;
-                    }
-                    break;
-                case EventConstants.RELEASED:
-                case EventConstants.GONE:
-                    if (stableY != 0) {
-                        // IMPL_NOTE: should return 0
-                        GestureAnimator.dragToStablePosition(this, stableY);
-                        stableY = 0;
-                    }
-                    pointerY = Integer.MAX_VALUE;
-                    break;
-            }
-        }
-        // pass event to other consumers
-        return false;
-    }
-
-    /**
-     * Drag displayable content
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int dragContent(int deltaY) {
-        return tunnel.callDragContent(deltaY);
-    }
-
-
 }
 
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/MenuLayer.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/MenuLayer.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/MenuLayer.java	2009-10-08 13:26:45.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/MenuLayer.java	2009-10-08 22:11:49.000000000 +0200
@@ -53,19 +53,8 @@
      * than can fit on the menu.
      */
     protected int scrollIndex;
-
-    /**
-     * Amount of pixels left from previous content dragging
-     */
-    protected int leftToDrag = 0;
     
-    /**
-     *  Desired drag amount needed to return content
-     *  to the stable position.
-     */
-    protected int stableY = 0;
-
-    /**
+    /** 
      * The SoftButtonLayer maintains the overall set of
      * commands and their associated listeners.
      */
@@ -140,9 +129,6 @@
      */
     public void updateScrollIndicator() {
     	if (scrollInd != null) {
-            if (stableY != 0) {
-                return;
-            }
             if (menuCmds.length > MenuSkin.MAX_ITEMS) {
                 scrollInd.setVerticalScroll(
                   (scrollIndex * 100) / (menuCmds.length - MenuSkin.MAX_ITEMS),
@@ -187,10 +173,8 @@
      * @param y the y coordinate of the event
      */
     public boolean pointerInput(int type, int x, int y) {
-        super.pointerInput(type, x, y);
         switch (type) {
         case EventConstants.PRESSED:
-            leftToDrag = 0;
             itemIndexWhenPressed =  itemIndexAtPointerPosition(x, y);
 
             if (itemIndexWhenPressed != PRESS_OUT_OF_BOUNDS && itemIndexWhenPressed >= 0) {
@@ -201,7 +185,6 @@
             }
             break;
         case EventConstants.RELEASED:
-            leftToDrag = 0;
             int itemIndexWhenReleased = itemIndexAtPointerPosition(x, y);
 
             // dismiss the menu layer if the user pressed outside the menu
@@ -441,16 +424,16 @@
         
         if (menuCmds != null) {
                        
-            int y = MenuSkin.ITEM_TOPOFFSET +
-                    (scrollIndex < 0 ? -scrollIndex * MenuSkin.ITEM_HEIGHT : 0);
+            int y = MenuSkin.ITEM_TOPOFFSET;
             int x = 0;
             Image arrow = null;
-
-            for (int cmdIndex = scrollIndex < 0 ? 0 : scrollIndex;
+            
+            for (int cmdIndex = scrollIndex; 
                 (cmdIndex < menuCmds.length) 
                     && (cmdIndex - scrollIndex < MenuSkin.MAX_ITEMS);
                 cmdIndex++)
             {
+                
                 if (menuCmds[cmdIndex] instanceof SubMenuCommand) {
                     arrow = MenuSkin.IMAGE_SUBMENU_ARROW;
                     if (cmdIndex == selI && !cascadeMenuUp) {
@@ -523,18 +506,18 @@
                     arrow = null;
                 }
                 if (ScreenSkin.RL_DIRECTION) {
-                    itemOffset = bounds[W] - MenuSkin.ITEM_ANCHOR_X - x;
-                } else {
-                    itemOffset = MenuSkin.ITEM_ANCHOR_X + x;
-                }
+                         itemOffset = bounds[W] - MenuSkin.ITEM_ANCHOR_X - x;                                                     
+                     } else {
+                         itemOffset = MenuSkin.ITEM_ANCHOR_X;
+                     }
                 g.drawString(menuCmds[cmdIndex].getLabel(),
-                         itemOffset,
-                         y, Graphics.TOP | ScreenSkin.TEXT_ORIENT);
-
+                             itemOffset,
+                             y, Graphics.TOP | ScreenSkin.TEXT_ORIENT);
+                            
                 x = 0;
                 y += MenuSkin.ITEM_HEIGHT;                 
             }
-        }
+        }       
     }
 
     /**
@@ -610,7 +593,6 @@
                            "MenuLayer.scrollContent scrollType=" + scrollType + 
                            " thumbPosition=" + thumbPosition); 
         }
-        leftToDrag = 0;
         // keep old scrollIndex
         int oldScrollIndex = scrollIndex;
         
@@ -654,52 +636,6 @@
     }
 
     /**
-     * Drag the contents to the specified amount of pixels.
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int dragContent(int deltaY) {
-        leftToDrag += deltaY;
-        int itemCnt = leftToDrag / MenuSkin.ITEM_HEIGHT;
-        if (itemCnt == 0) {
-            return stableY - leftToDrag;
-        }
-
-        scrollIndex += itemCnt;
-        if (deltaY > 0) {
-            if (selI < scrollIndex) {
-                selI = scrollIndex;
-                if (selI >= menuCmds.length) {
-                    selI = menuCmds.length - 1;
-                }
-            }
-        } else if (deltaY < 0) {
-            if (selI >= scrollIndex + MenuSkin.MAX_ITEMS) {
-                selI = scrollIndex + MenuSkin.MAX_ITEMS - 1;
-                if (selI < 0) {
-                    selI = 0;
-                }
-            }
-        }
-        updateScrollIndicator();
-        requestRepaint();
-        leftToDrag %= MenuSkin.ITEM_HEIGHT;
-        if (scrollIndex < 0) {
-            stableY = -scrollIndex * MenuSkin.ITEM_HEIGHT;
-        } else if (scrollIndex > menuCmds.length - MenuSkin.MAX_ITEMS
-                && menuCmds.length > MenuSkin.MAX_ITEMS) {
-            stableY = (menuCmds.length - MenuSkin.MAX_ITEMS - scrollIndex)
-                    * MenuSkin.ITEM_HEIGHT;
-        } else if (scrollIndex > 0
-                && menuCmds.length <= MenuSkin.MAX_ITEMS) {
-            stableY = -scrollIndex * MenuSkin.ITEM_HEIGHT;
-        } else {
-            stableY = 0;
-        }
-        return stableY - leftToDrag;
-    }
-
-    /**
      * Update bounds of layer depend on visability of scroll indicator layer
      */
     public void updateBoundsByScrollInd() {
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/ScrollablePopupLayer.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/ScrollablePopupLayer.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/ScrollablePopupLayer.java	2009-10-08 13:26:45.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/layers/ScrollablePopupLayer.java	2009-10-08 22:11:49.000000000 +0200
@@ -30,7 +30,6 @@
 import com.sun.midp.chameleon.skins.ScrollIndSkin;
 import com.sun.midp.chameleon.skins.ScreenSkin;
 import com.sun.midp.chameleon.skins.resources.ScrollIndResourcesConstants;
-import com.sun.midp.lcdui.EventConstants;
 
 import javax.microedition.lcdui.*;
 
@@ -51,29 +50,13 @@
  * PopupLayer and MIDPWindow can allow non visible popup layers.
  */
 public class ScrollablePopupLayer extends PopupLayer
-    implements ScrollListener, GestureAnimatorListener {
+    implements ScrollListener {
 
     /**
      * The scroll indicator layer to notify of scroll settings
      * in case not all content can fit on the menu.
      */
     protected ScrollIndLayer scrollInd;
-
-    /**
-     *  Y coordinate of pointer during pointer drag event.
-     */
-    private int pointerY = Integer.MAX_VALUE;
-
-    /**
-     *  Desired drag amount needed to return content
-     *  to the stable position.
-     */
-    private int stableY = 0;
-    
-    /**
-     * Last delta of pointer y coordinate during drag operation.
-     */
-    private int pointerDeltaY = 0;
     
     
     /**
@@ -82,7 +65,6 @@
      */
     public ScrollablePopupLayer() {
         super((Image)null, -1);
-        setSupportsInput(true);
     }
 
 
@@ -93,7 +75,6 @@
      */
     public ScrollablePopupLayer(Image bgImage, int bgColor) {
         super(bgImage, bgColor);
-        setSupportsInput(true);
     }
     
     /**
@@ -103,7 +84,6 @@
      */
     public ScrollablePopupLayer(Image[] bgImage, int bgColor) {
         super(bgImage, bgColor);
-        setSupportsInput(true);
     }
 
     /**
@@ -116,16 +96,6 @@
     public void scrollContent(int scrollType, int thumbPosition) {
     }
 
-    /**
-     * Drag the contents to the specified amount of pixels.
-     * @param deltaY
-     * @return desired drag amount to become stable
-     *
-     */
-    public int dragContent(int deltaY) {
-        return 0;
-    }
-
     public void setScrollInd(ScrollIndLayer newScrollInd) {
         if (scrollInd != newScrollInd ||
             scrollInd != null && scrollInd.scrollable != this ||
@@ -202,50 +172,5 @@
             scrollInd.setBounds();
         }
     }
-
-    /**
-     * Handle input from a pen tap.
-     *
-     * Parameters describe the type of pen event and the x,y location in the
-     * layer at which the event occurred.
-     *
-     * Important: the x,y location of the pen tap will already be translated
-     * into the coordinate space of the layer.
-     *
-     * @param type the type of pen event
-     * @param x the x coordinate of the event
-     * @param y the y coordinate of the event
-     * @return
-     */
-    public boolean pointerInput(int type, int x, int y) {
-        switch (type) {
-            case EventConstants.PRESSED:
-                pointerY = y;
-                break;
-            case EventConstants.DRAGGED:
-                if (pointerY != Integer.MAX_VALUE) {
-                    pointerDeltaY = pointerY - y;
-                    stableY = dragContent(pointerY - y);
-                    pointerY = y;
-                }
-                break;
-            case EventConstants.FLICKERED:
-                if (pointerDeltaY != 0) {
-                    GestureAnimator.flick(this, pointerDeltaY);
-                    stableY = 0;
-                }
-                break;
-            case EventConstants.RELEASED:
-            case EventConstants.GONE:
-                if (stableY != 0) {
-                    GestureAnimator.dragToStablePosition(this, stableY);
-                    stableY = 0;
-                }
-                pointerY = Integer.MAX_VALUE;
-                break;
-        }
-        return true;
-    }
-    
 }
 
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ChoiceGroupPopupLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ChoiceGroupPopupLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ChoiceGroupPopupLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ChoiceGroupPopupLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -450,7 +450,6 @@
     void uCallPointerPressed(int x, int y) {
         itemWasPressed = true;
         itemSelectedWhenPressed = false;
-        pointerDragged = false;
         if (popupLayer.isPopupOpen()) {
             // popupLayer.
             int i = getIndexByPointer(x, y);
@@ -477,12 +476,8 @@
      * @param y the x coordinate of the pointer up
      */
     void uCallPointerReleased(int x, int y) {
-        if (!itemWasPressed || pointerDragged) {
-            itemSelectedWhenPressed = false;
-            itemWasPressed = false;
-            pointerDragged = false;
+        if (!itemWasPressed)
             return;
-        }
         
         if (popupLayer.isPopupOpen()) {
             // do not dismiss the popup until a new selection is made.
@@ -500,23 +495,9 @@
         }
         itemSelectedWhenPressed = false;
         itemWasPressed = false;
-        pointerDragged = false;
-
-    }
 
-    /**
-     * Called by the system to signal a pointer drag
-     *
-     * @param x the x coordinate of the pointer drag
-     * @param y the x coordinate of the pointer drag
-     *
-     * @see #getInteractionModes
-     */
-    void uCallPointerDragged(int x, int y) {
-        pointerDragged = true;
     }
 
-
     /**
      * Called by the system to indicate the size available to this Item
      * has changed
@@ -823,23 +804,6 @@
         }
 
         /**
-         * Drag the contents to the specified amount of pixels.
-         * @param deltaY
-         * @return desired drag amount to become stable
-         */
-        public int dragContent(int deltaY) {
-            int newY = viewable[Y] + deltaY;
-            updatePopupLayer(newY);
-            if (newY < 0) {
-                return -newY;
-            } else if (newY > viewable[HEIGHT] - viewport[HEIGHT]) {
-                return viewable[HEIGHT] - viewport[HEIGHT] - newY;
-            }
-            return 0;
-        }
-
-
-        /**
          * Perform a line scrolling in the given direction. This method will
          * attempt to scroll the view to show next/previous line.
          *
@@ -957,18 +921,10 @@
          */
         public void updateScrollIndicator() {
             if (scrollInd != null) {
-                if (viewable[Y] < 0 ||
-                        viewable[Y] > viewable[HEIGHT] - viewport[HEIGHT]) {
-                    return;
-                }
                 if (sbVisible) {
-                    if (viewable[HEIGHT] <= viewport[HEIGHT]) {
-                        scrollInd.setVerticalScroll(0, 100);
-                    } else {
-                        scrollInd.setVerticalScroll((viewable[Y] * 100 /
-                                           (viewable[HEIGHT] - viewport[HEIGHT])),
-                                          (viewport[HEIGHT] * 100 / viewable[HEIGHT]));
-                    }
+                    scrollInd.setVerticalScroll(
+                          (viewable[Y] * 100 / (viewable[HEIGHT] - viewport[HEIGHT])),
+                          (viewport[HEIGHT] * 100 / viewable[HEIGHT]));
                 } else {
                     scrollInd.setVerticalScroll(0, 100);
                 }
@@ -1003,11 +959,7 @@
             case EventConstants.RELEASED:
                 lf.uCallPointerReleased(transX, transY);
                 break;
-            case EventConstants.DRAGGED:
-                lf.uCallPointerDragged(transX, transY);
-                break;
             }
-            super.pointerInput(type, x, y);
             return consume;
         }
 
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/CustomItemLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/CustomItemLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/CustomItemLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/CustomItemLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -630,7 +630,6 @@
     void uCallPointerDragged(int x, int y) {
         try {
             synchronized (Display.calloutLock) {
-                itemWasPressed = false;
                 customItem.pointerDragged(x - contentBounds[X] -
                                           ScreenSkin.PAD_FORM_ITEMS, 
                                           y - contentBounds[Y] - 
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DEPopupLayer.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DEPopupLayer.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DEPopupLayer.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DEPopupLayer.java	2009-10-08 22:11:49.000000000 +0200
@@ -142,11 +142,9 @@
      * @return true always, since popupLayers swallow all pointer events
      */
     public boolean pointerInput(int type, int x, int y) {
-        super.pointerInput(type, x, y);
         boolean consume = true;
         switch (type) {
         case EventConstants.PRESSED:
-            leftToDrag = 0;
             itemIndexWhenPressed =  itemIndexAtPointerPosition(x, y);
             if (itemIndexWhenPressed == PRESS_OUT_OF_BOUNDS) {
                 hide();
@@ -164,7 +162,6 @@
             } 
             break;
         case EventConstants.RELEASED:
-            leftToDrag = 0;
             int itemIndexWhenReleased = itemIndexAtPointerPosition(x,y);
             
             if (itemIndexWhenReleased == itemIndexWhenPressed) {
@@ -248,10 +245,12 @@
      */
     public void paintBody(Graphics g) {
         boolean hilighted = false;
-        int y = 0;
+        int translatedY = 0;
         int textOffset = 2;
         
 
+        int transY = elementHeight;
+
         endIndex = startIndex + (elementsToFit - 1);
 
         if (hilightedIndex > endIndex) {
@@ -262,22 +261,23 @@
         if (ScreenSkin.RL_DIRECTION) {
             textOffset = elementWidth - textOffset - ScrollIndSkin.WIDTH + 3;
         }
-        if (startIndex < 0) {
-            y = -startIndex * elementHeight;
-        }
+
         g.setFont(DateEditorSkin.FONT_POPUPS);
-        for (int i = startIndex < 0 ? 0 : startIndex; i < elements.length; i++) {
+        for (int i = startIndex; i <= endIndex; i++) {
             hilighted = (i == hilightedIndex);
 
             if (hilighted) {
                 g.setColor(DateEditorSkin.COLOR_TRAVERSE_IND);
-                g.fillRect(0, y, elementWidth, elementHeight);
+                g.fillRect(0, 0, elementWidth, elementHeight);
             }
 
             g.setColor(0);
-            g.drawString(elements[i], textOffset, y, ScreenSkin.TEXT_ORIENT | Graphics.TOP);
-            y += elementHeight;
+            g.drawString(elements[i], textOffset, 0, ScreenSkin.TEXT_ORIENT | Graphics.TOP);
+            g.translate(0, transY);
+            translatedY += transY;
         }
+
+        g.translate(0, -translatedY);
     }
 
 
@@ -435,31 +435,6 @@
     }
 
     /**
-     * Drag the contents to the specified amount of pixels.
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int dragContent(int deltaY) {
-        leftToDrag += deltaY;
-        startIndex += leftToDrag / elementHeight;
-        updatePopupLayer();
-        leftToDrag %= elementHeight;
-        stableY = 0;
-        if (startIndex < 0) {
-            stableY = -startIndex * elementHeight;
-        } else if (startIndex > numElements - elementsToFit
-                && numElements > elementsToFit) {
-            stableY = (numElements - elementsToFit - startIndex) *
-                    elementHeight;
-        } else if (startIndex > 0
-                && numElements <= elementsToFit) {
-            stableY = -startIndex * elementHeight;
-        }
-        return stableY - leftToDrag;
-    }
-    
-
-    /**
      * Perform a page flip in the given direction. This method will
      * attempt to scroll the view to show as much of the next page
      * as possible. It uses the locations and bounds of the items on
@@ -532,11 +507,7 @@
     public void updateScrollIndicator() {
         if (scrollInd != null) {
             scrollInd.update(null);
-
-            if (stableY != 0) {
-                return;
-            }
-            if (sbVisible && numElements > 0 && numElements != elementsToFit) {
+            if (sbVisible) {
                 scrollInd.setVerticalScroll(
                                             startIndex * 100 / (numElements - elementsToFit),
                                             elementsToFit * 100 / numElements);                                            
@@ -559,14 +530,6 @@
         } else if (hilightedIndex >= startIndex + elementsToFit) {
             hilightedIndex = startIndex + elementsToFit - 1;
         }
-
-        if (hilightedIndex >= numElements) {
-            hilightedIndex = numElements - 1;
-        }
-        
-        if (hilightedIndex < 0) {
-            hilightedIndex = 0;
-        }
         updateScrollIndicator();
         addDirtyRegion();
         requestRepaint();
@@ -642,18 +605,7 @@
     private int hilightedIndex;    
 
     /** Selected index. Index accepted by pressing set or fire key */
-    private int selectedIndex;
-
-    /**
-     * Amount of pixels left from previous content dragging
-     */
-    protected int leftToDrag = 0;
-
-    /**
-     *  Desired drag amount needed to return content
-     *  to the stable position.
-     */
-    protected int stableY = 0;    
+    private int selectedIndex;    
 
     /**
      * True if traversal past the last item in the popup should jump to the
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DisplayableLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DisplayableLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DisplayableLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/DisplayableLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -560,28 +560,8 @@
     public void uCallScrollContent(int scrollType, int thumbPosition) {
         // by default nothing to do 
     }
-
-    /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    public boolean uIsDraggable(int x, int y) {
-        return true;
-    }
-
-    /**
-     * This method notify displayable to drag its content
-     *
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int uCallDragContent(int deltaY) {
-        // by default nothing to do
-        return 0;
-    }
     
+
     /**
      * Display calls this method on it's current Displayable.
      * This function simply calls lCallPaint() after obtaining LCDUILock.
@@ -750,10 +730,6 @@
                         eventType = 2;
                     }
                     break;
-                case EventConstants.FLICKERED:
-                    if (sawPointerPress) {
-                        eventType = 3;
-                    }
                 default:
                     // will be handled below
                     break;
@@ -772,9 +748,6 @@
         case 2:
             uCallPointerDragged(x, y);
             break;
-        case 3:
-            uCallPointerFlickered(x, y);
-            break;
         default:
             if (sawPointerPress) {
                 Logging.report(Logging.ERROR, LogChannels.LC_HIGHUI,
@@ -806,13 +779,6 @@
      * @param y The y coordinate of the release
      */
     void uCallPointerReleased(int x, int y) { }
-    /**
-     * Handle a pointer flicker event
-     *
-     * @param x The x coordinate of the flickered
-     * @param y The y coordinate of the flickered
-     */
-     void uCallPointerFlickered(int x, int y) { }
         
 
     /**
@@ -1202,7 +1168,7 @@
      * Used to indicate the invalidate is needed
      */
     boolean pendingInvalidate;
-
+   
     // ************************************************************
     //  Static initializer, constructor
     // ************************************************************
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/FormLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/FormLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/FormLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/FormLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -2393,55 +2393,6 @@
         }
     }
 
-
-    /**
-     * Perform a scrolling by specified number of pixels.
-     * Returns amount of pixels to drag to return content
-     * to the stable position.
-     * @param deltaY number of pixels to scroll
-     * @return desired drag amount to become stable
-     */
-    protected int uScrollBy(int deltaY) {
-        int ret = 0;
-        ItemLFImpl[] items = null;
-        synchronized (Display.LCDUILock) {
-            items = new ItemLFImpl[numOfLFs];
-            System.arraycopy(itemLFs, 0, items, 0, numOfLFs);
-        }
-        int oldY = viewable[Y];
-        if (owner instanceof TextBox && itemLFs[0] instanceof TextBoxLFImpl) {
-            ret = ((TextBoxLFImpl)itemLFs[0]).uScrollBy(deltaY);
-        } else {
-            ret = super.uScrollBy(deltaY);
-        }
-        if (oldY != viewable[Y]) {
-            uInitItemsInViewport(viewable[Y] > oldY ? Canvas.DOWN : Canvas.UP,
-                                 items, traverseIndex);
-            updateCommandSet();
-        }
-        return ret;
-    }
-
-    /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    public boolean uIsDraggable(int x, int y) {
-        ItemLFImpl item = null;
-        synchronized (Display.LCDUILock) {
-            if (numOfLFs > 0) {
-                item = findItemByPointer(x, y);
-            }
-        }
-        if (item!= null && item instanceof CustomItemLFImpl) {
-            return false;
-        }
-        return true;
-    }
-
-
     /**
      * A boolean declaring whether the contents of the viewport
      * can be traversed using the horizontal traversal keys,
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ItemLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ItemLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ItemLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ItemLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -940,7 +940,6 @@
      */
     void uCallPointerPressed(int x, int y) {
         itemWasPressed = true;
-        pointerDragged = false;
     }
     
     /**
@@ -956,13 +955,11 @@
         y -= contentBounds[Y];
         if ( (x >= 0 && x <= contentBounds[WIDTH] && y >= 0 &&
               y <= contentBounds[HEIGHT]) &&
-             (itemWasPressed && !pointerDragged 
-                     && (hasFocus || item.owner.numCommands <= 1))) {
+             (itemWasPressed && (hasFocus || item.owner.numCommands <= 1))) {
             //should check the x,y is in item's content area
             uCallKeyPressed(Constants.KEYCODE_SELECT);
         }
         itemWasPressed = false;
-        pointerDragged = false;
     }
     
     /**
@@ -973,9 +970,7 @@
      *
      * @see #getInteractionModes
      */
-    void uCallPointerDragged(int x, int y) {
-        pointerDragged = true;
-    }
+    void uCallPointerDragged(int x, int y) { }
     
     /**
      * Called by the system to indicate the size available to this Item
@@ -1522,10 +1517,6 @@
 
     /** true is the item has been focused before pointer down */
     boolean itemWasPressed; // = false
-
-    /** true if pointer dragged over the item **/
-    boolean pointerDragged; // = false;
-
     
     /** True if internal cycle need in this item.*/
     boolean isInternalCycle;
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ScreenLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ScreenLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ScreenLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/ScreenLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -96,7 +96,6 @@
         }
     }
 
-
     /**
      * Set the vertical scroll position and proportion
      *
@@ -115,8 +114,8 @@
     boolean setVerticalScroll(int scrollPosition, int scrollProportion) {
         this.vScrollPosition = scrollPosition;
         this.vScrollProportion = scrollProportion;
-
-        if (lIsShown() && scrollPosition >= 0 && scrollPosition <= 100) {
+            
+        if (lIsShown()) {
             return currentDisplay.setVerticalScroll(scrollPosition, scrollProportion);
         }
         return false;
@@ -245,33 +244,11 @@
     }
 
     /**
-     * Perform a scrolling by specified number of pixels.
-     * Returns amount of pixels to drag to return content
-     * to the stable position.
-     * @param deltaY number of pixels to scroll
-     * @return desired drag amount to become stable
-     */
-    protected int uScrollBy(int deltaY) {
-        int max = getMaxScroll();
-        viewable[Y] += deltaY;
-        if (viewable[Y] < 0) {
-            return -viewable[Y];
-        } else if (viewable[Y] > max) {
-            return max - viewable[Y];
-        }
-        return 0;
-    }
-
-    /**
      * The maximum amount of scroll needed to see all the contents
      * @return get the maximum scroll amount
      */
     protected int getMaxScroll() {
-        if (viewable[HEIGHT] <= viewport[HEIGHT]) {
-            return 0;
-        } else {
-            return viewable[HEIGHT] - viewport[HEIGHT];
-        }
+        return viewable[HEIGHT] - viewport[HEIGHT];
     }
     
     /**
@@ -328,34 +305,8 @@
             setupScroll();
         }
     }
-
-    /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    public boolean uIsDraggable(int x, int y) {
-        return true;
-    }
     
     /**
-     * This method notify displayable to drag its content
-     *
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int uCallDragContent(int deltaY) {
-        int oldY = viewable[Y];
-        int ret = uScrollBy(deltaY);
-        if (oldY != viewable[Y]) {
-            uRequestPaint();
-            setupScroll();
-        }
-        return ret;
-    }
-
-    /**
      * all scroll actions should be handled through here.
      * 
      */
@@ -370,7 +321,7 @@
                            "[F] >> viewable[HEIGHT] == "+viewable[HEIGHT] +
                            " lastScrollSize == "+lastScrollSize);
         }
-       
+        
         // check if scroll moves, and if so, refresh scrollbars
         if (!invalidScroll &&
             (viewable[Y] != lastScrollPosition ||
@@ -453,7 +404,6 @@
      */
     private int lastScrollSize = -1;
 
-
     // ************************************************************
     //  Static initializer, constructor
     // ************************************************************
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/TextBoxLFImpl.java patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/TextBoxLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/TextBoxLFImpl.java	2009-10-08 13:26:44.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/javax/microedition/lcdui/TextBoxLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -53,17 +53,6 @@
     protected boolean scrollInitialized;
 
     /**
-     * Amount of pixels left from previous content dragging
-     */
-    protected int leftToDrag = 0;
-
-    /**
-     *  Desired drag amount needed to return content
-     *  to the stable position.
-     */
-    protected int stableY = 0;
-
-    /**
      * Creates TextFieldLF for the passed in TextField.
      * @param tf The TextField associated with this TextFieldLF
      */
@@ -287,12 +276,9 @@
         
         Text.updateTextInfo(str, font, w, h, offset, options, cursor, info);
 
-        g.translate(0, stableY);
-
         Text.paintText(info, g, str, font, fgColor, 0xffffff - fgColor,
-                       w, h - stableY, offset, options, cursor);
+                       w, h, offset, options, cursor);
         
-        g.translate(0, -stableY);
         // just correct cursor index if the charracter has
         // been already committed 
         if (str != null && str.length() > 0) {
@@ -348,10 +334,6 @@
      * @param height The height available for the Item's content
      */
     void lPaintContent(Graphics g, int width, int height) {
-        int cX = g.getClipX();
-        int cY = g.getClipY();
-        int cW = g.getClipWidth();
-        int cH = g.getClipHeight();
         g.translate(TextFieldSkin.BOX_MARGIN, TextFieldSkin.BOX_MARGIN);
         width -= (2 * TextFieldSkin.BOX_MARGIN);
         height -= ((2 * TextFieldSkin.BOX_MARGIN) +     
@@ -387,16 +369,12 @@
         // Input session should be retrieved from the current Display
         TextInputSession is = getInputSession();
 
-        int w = width - 2 * TextFieldSkin.PAD_H;
-        int h = height - 2 * TextFieldSkin.PAD_V;
-        g.clipRect(0, 0, w, h);
-
         paint(g, tf.buffer,
               is.getPendingChar(),
               tf.constraints, 
               ScreenSkin.FONT_INPUT_TEXT, 
               (editable ? TextFieldSkin.COLOR_FG : TextFieldSkin.COLOR_FG_UE), 
-              w, h, 0,
+              width - (2 * (TextFieldSkin.PAD_H)), height, 0,  
               Text.NORMAL, cursor, myInfo); 
 
         if (!scrollInitialized) {
@@ -417,9 +395,6 @@
         
 
         g.translate(-TextFieldSkin.BOX_MARGIN, -TextFieldSkin.BOX_MARGIN);
-        //restore clip
-        g.setClip(cX, cY, cW, cH);
-
     }
 
     /**
@@ -567,59 +542,10 @@
      * @param context position  
      */
     protected void uScrollAt(int position) {
-        setTopVis(((myInfo.height - myInfo.visLines * ScreenSkin.FONT_INPUT_TEXT.getHeight()) *
-                          position / 100) / ScreenSkin.FONT_INPUT_TEXT.getHeight());
-    }
-
-    /**
-     * Perform a scrolling by specified number of pixels.
-     * Returns amount of pixels to drag to return content
-     * to the stable position.
-     * @param deltaY number of pixels to scroll
-     * @return desired drag amount to become stable
-     */
-    protected int uScrollBy(int deltaY) {
-        leftToDrag += deltaY;
-        int lineH = ScreenSkin.FONT_INPUT_TEXT.getHeight();
-        int lineCnt = leftToDrag / lineH;
-        int newTopVis = myInfo.topVis + lineCnt;
-        int oldTopVis = myInfo.topVis;
-        if (editable) {
-            // accept the word if the PTI is currently enabled
-            acceptPTI();
-        }
-        if (newTopVis < 0) {
-            stableY = -newTopVis * lineH;
-        } else if (newTopVis > myInfo.numLines - myInfo.visLines
-                && myInfo.numLines > myInfo.visLines) {
-            stableY = (myInfo.numLines - myInfo.visLines - newTopVis)
-                    * lineH;
-        } else if (newTopVis > 0
-                && myInfo.numLines <= myInfo.visLines) {
-            stableY = -newTopVis * lineH;
-        } else {
-            stableY = 0;
-            leftToDrag %= lineH;
-            myInfo.topVis = newTopVis;
-            if (editable) {
-                cursor.y += (myInfo.topVis - oldTopVis) * ScreenSkin.FONT_INPUT_TEXT.getHeight();
-                cursor.option = Text.PAINT_GET_CURSOR_INDEX;
-            }
-            myInfo.isModified = myInfo.scrollY = true;
-        }
-
-        updateTextInfo();
-        return stableY - leftToDrag % lineH;
-    }
-
-    /**
-     * Updates myInfo.topVis and validates new value.
-     * @param newTopVis new value
-     */
-    private void setTopVis(int newTopVis) {
         int oldTopVis = myInfo.topVis;
-        myInfo.topVis  = newTopVis;
-
+        myInfo.topVis  = ((myInfo.height - myInfo.visLines * ScreenSkin.FONT_INPUT_TEXT.getHeight()) *
+                          position / 100) / ScreenSkin.FONT_INPUT_TEXT.getHeight();
+        
         if (myInfo.topVis < 0) {
             myInfo.topVis = 0;
         } else if (myInfo.topVis + myInfo.visLines > myInfo.numLines) {
diff -Naur orig/midp/src/highlevelui/lcdlf/lfplatform/classes/javax/microedition/lcdui/DisplayableLFImpl.java patched/midp/src/highlevelui/lcdlf/lfplatform/classes/javax/microedition/lcdui/DisplayableLFImpl.java
--- orig/midp/src/highlevelui/lcdlf/lfplatform/classes/javax/microedition/lcdui/DisplayableLFImpl.java	2009-10-08 13:26:50.000000000 +0200
+++ patched/midp/src/highlevelui/lcdlf/lfplatform/classes/javax/microedition/lcdui/DisplayableLFImpl.java	2009-10-08 22:11:49.000000000 +0200
@@ -543,27 +543,6 @@
     }
 
     /**
-     * Checks whether it is allowed to start content dragging from
-     * this point
-     * @param x the x coordinate of the point to check
-     * @param y the y coordinate of the point to check
-     */
-    public boolean uIsDraggable(int x, int y) {
-        return true;
-    }
-    
-    /**
-     * This method notifies displayable to drag its content
-     *
-     * @param deltaY
-     * @return desired drag amount to become stable
-     */
-    public int uCallDragContent(int deltaY) {
-        // by default nothing to do
-        return 0;
-    }
-
-    /**
      * <code>Display</code> calls this method on it's current 
      * <code>Displayable</code>.
      * <code>Displayable</code> uses this opportunity to do necessary stuff
diff -Naur orig/midp/src/highlevelui/lcdui/reference/classes/com/sun/midp/lcdui/EventConstants.java patched/midp/src/highlevelui/lcdui/reference/classes/com/sun/midp/lcdui/EventConstants.java
--- orig/midp/src/highlevelui/lcdui/reference/classes/com/sun/midp/lcdui/EventConstants.java	2009-10-08 13:27:04.000000000 +0200
+++ patched/midp/src/highlevelui/lcdui/reference/classes/com/sun/midp/lcdui/EventConstants.java	2009-10-08 22:11:49.000000000 +0200
@@ -58,16 +58,6 @@
      * Minor ID indicating a pointer drag.
      */
     public static final int DRAGGED  = 3;  // pen
-    
-    /**
-     * Minor ID indicating a combined pointer flick event.
-     */
-    public static final int FLICKERED = 5; // pen
-
-    /**
-     * Minor ID indicating pointer out event.
-     */
-    public static final int GONE = 6; // pen
 
     /**
      * Minor ID indicating that command event requires posting a menu.
diff -Naur orig/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp patched/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp
--- orig/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp	2009-10-08 13:27:02.000000000 +0200
+++ patched/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp	2009-10-08 22:11:49.000000000 +0200
@@ -2859,35 +2859,6 @@
         }
 
         /**
-         * Checks whether it is allowed to start content dragging from
-         * this point
-         * @param x the x coordinate of the point to check
-         * @param y the y coordinate of the point to check
-         */
-        public boolean callIsDraggable(int x, int y) {
-            DisplayableLF currentCopy = Display.this.current;
-            if (currentCopy != null) {
-                return currentCopy.uIsDraggable(x,y);
-            }
-            return false;
-        }
-
-        /**
-         * This method is used by Chameleon to invoke
-         * Displayable.uCallDragContent() method.
-         *
-         * @param deltaY
-         * @return desired drag amount to become stable
-         */
-        public int callDragContent(int deltaY) {
-            DisplayableLF currentCopy = Display.this.current;
-            if (currentCopy != null) {
-                return currentCopy.uCallDragContent(deltaY);
-            }
-            return 0;
-        }
-
-        /**
          * Updates the scroll indicator.
          */
         public void updateScrollIndicator() {
diff -Naur orig/midp/src/events/input_port/fb/native/fb_read_key.c patched/midp/src/events/input_port/fb/native/fb_read_key.c
--- orig/midp/src/events/input_port/fb/native/fb_read_key.c	2011-03-09 18:57:24.000000000 +0100
+++ patched/midp/src/events/input_port/fb/native/fb_read_key.c	2011-04-01 21:14:15.105797350 +0200
@@ -77,10 +77,16 @@
 
 /** Update input keys state reading single char from keyboard device */
 jboolean read_char_key_event() {
-    unsigned char c;
+    unsigned short c;
     int readBytes = read(fbapp_get_keyboard_fd(), &c, sizeof(c));
     keyState.key = c;
     keyState.down = -1;
+
+    if (c == 0x0080) {
+        readBytes = read(fbapp_get_keyboard_fd(), &c, sizeof(c));
+        keyState.key = 0x010000 + c;
+    }
+
     return (readBytes > 0) ?
         KNI_TRUE : KNI_FALSE;
 }
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/constants.xml patched/midp/src/configuration/configuration_xml/linux_fb/constants.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/constants.xml	2011-05-09 15:09:07.000000000 +0200
+++ patched/midp/src/configuration/configuration_xml/linux_fb/constants.xml	2011-05-09 19:03:37.000000000 +0200
@@ -163,7 +163,7 @@
 <constant_class Package="com.sun.midp.rms" Name="RMSConfig" Scope="public" Comment="/** Constant values in RMS configuration */">
   <constant Type="int"
             Name="STORAGE_SUITE_LIMIT"
-            Value="200000"
+            Value="16777216"
             Comment="Per suite resource limit for storage"/>
   <constant Type="int"
             Name="RMS_CACHE_LIMIT"
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/properties.xml patched/midp/src/configuration/configuration_xml/linux_fb/properties.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/properties.xml	2011-05-09 18:50:16.000000000 +0200
+++ patched/midp/src/configuration/configuration_xml/linux_fb/properties.xml	2011-05-09 18:51:17.000000000 +0200
@@ -49,7 +49,7 @@
 		Comment="The datagram port number of a SMS emulator."/>
 
   <property Key="system.jam_space"
-		Value="1000000"
+		Value="8192000"
 		Scope="internal"
 		Comment="Amount of space to reserve for JAM storage."/>
 
diff -Naur orig/midp/src/rms/rms_api/reference/classes/com/sun/midp/rms/RecordStoreImpl.java patched/midp/src/rms/rms_api/reference/classes/com/sun/midp/rms/RecordStoreImpl.java
--- orig/midp/src/rms/rms_api/reference/classes/com/sun/midp/rms/RecordStoreImpl.java	2011-05-09 15:09:07.000000000 +0200
+++ patched/midp/src/rms/rms_api/reference/classes/com/sun/midp/rms/RecordStoreImpl.java	2011-05-09 18:59:52.000000000 +0200
@@ -361,6 +361,10 @@
                          BLOCK_HEADER_SIZE - DB_HEADER_SIZE;
 
         int rv = (fileSpace < limitSpace) ? fileSpace : limitSpace;
+
+        // Ignore fileSpace
+        rv = limitSpace;
+
         return (rv < 0) ? 0 : rv;
     }
 
diff -Naur orig/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp patched/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp
--- orig/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp	2011-05-18 07:38:42.000000000 +0200
+++ patched/midp/src/highlevelui/lcdui/reference/classes/javax/microedition/lcdui/Display.jpp	2011-05-18 08:05:26.000000000 +0200
@@ -3678,8 +3678,8 @@
                     
             synchronized (LCDUILock) {
                 // #ifndef ENABLE_GCI
-                wantRotation = Display.this.displayDevice.reverseOrientation();
-                isRotatedKnown = true;
+                /// wantRotation = Display.this.displayDevice.reverseOrientation();
+                /// isRotatedKnown = true;
                 Display.this.width = Display.this.displayDevice.getWidth(); 
                 Display.this.height = Display.this.displayDevice.getHeight();
                 if (Display.this.displayDevice.isPrimaryDisplay()) {
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/constants.xml patched/midp/src/configuration/configuration_xml/linux_fb/constants.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/constants.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_fb/constants.xml	2012-01-26 14:02:21.000000000 +0100
@@ -47,19 +47,19 @@
             Comment="When false, Chameleon will not even attempt to load romized images for the UI."/>
   <constant Type="int"
             Name="CHAM_WIDTH"
-            Value="176"
+            Value="480"
             Comment="(Chameleon Only) display width"/>
   <constant Type="int"
             Name="CHAM_FULLWIDTH"
-            Value="176"
+            Value="480"
             Comment="(Chameleon Only) full display width"/>
   <constant Type="int"
             Name="CHAM_HEIGHT"
-            Value="210"
+            Value="720"
             Comment="(Chameleon Only) display height"/>
   <constant Type="int"
             Name="CHAM_FULLHEIGHT"
-            Value="210"
+            Value="720"
             Comment="(Chameleon Only) full display height"/>
   <constant Type="boolean"
             Name="TRAVERSAL2D"
@@ -71,19 +71,19 @@
             Comment="The maximum number of events in the event queue"/>
   <constant Type="int"
             Name="FULLWIDTH"
-            Value="176"
+            Value="480"
             Comment="(Fixed) full display width"/>
   <constant Type="int"
             Name="FULLHEIGHT"
-            Value="210" 
+            Value="720" 
             Comment="(Fixed) full display height"/>
   <constant Type="int"
             Name="NORMALWIDTH"
-            Value="176" 
+            Value="480" 
             Comment="(Fixed) normal width"/>
   <constant Type="int"
             Name="NORMALHEIGHT"
-            Value="210" 
+            Value="720" 
             Comment="(Fixed) normal height"/>
   <constant Type="int"
             Name="VERT_SCROLLBAR_WIDTH"
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/keyboard_skin.xml patched/midp/src/configuration/configuration_xml/linux_fb/keyboard_skin.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/keyboard_skin.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_fb/keyboard_skin.xml	2012-01-26 14:02:21.000000000 +0100
@@ -36,200 +36,200 @@
             <button
                 KeyValue="0"
                 Key="q"
-                X="5"
-                Y="10"
+                X="10"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="w"
-                X="27"
-                Y="10"
+                X="54"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="e"
-                X="49"
-                Y="10"
+                X="98"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="r"
-                X="71"
-                Y="10"
+                X="142"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="t"
-                X="93"
-                Y="10"
+                X="186"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="y"
-                X="115"
-                Y="10"
+                X="230"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="u"
-                X="137"
-                Y="10"
+                X="274"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="i"
-                X="159"
-                Y="10"
+                X="318"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="o"
-                X="181"
-                Y="10"
+                X="362"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key="p"
-                X="203"
-                Y="10"
+                X="406"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="1">
             <button
                 KeyValue="0"
                 Key="a"
-                X="15"
-                Y="40"
+                X="30"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="s"
-                X="37"
-                Y="40"
+                X="74"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="d"
-                X="59"
-                Y="40"
+                X="118"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="f"
-                X="81"
-                Y="40"
+                X="162"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="g"
-                X="103"
-                Y="40"
+                X="206"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="h"
-                X="125"
-                Y="40"
+                X="250"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="j"
-                X="147"
-                Y="40"
+                X="294"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="k"
-                X="169"
-                Y="40"
+                X="338"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="l"
-                X="191"
-                Y="40"
+                X="382"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="2">
             <button
                 KeyValue="0"
                 Key=" "
-                X="5"
-                Y="70"
+                X="10"
+                Y="140"
                 KeyImageType="CAPS_KEY"/>
             <button
                 KeyValue="1"
                 Key="z"
-                X="37"
-                Y="70"
+                X="74"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="x"
-                X="59"
-                Y="70"
+                X="118"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="c"
-                X="81"
-                Y="70"
+                X="162"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="v"
-                X="103"
-                Y="70"
+                X="206"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="b"
-                X="125"
-                Y="70"
+                X="250"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="n"
-                X="147"
-                Y="70"
+                X="294"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="m"
-                X="169"
-                Y="70"
+                X="338"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="203"
-                Y="70"
+                X="406"
+                Y="140"
                 KeyImageType="BACKSPACE_KEY"/>
         </line>
         <line Num="3">
             <button
                 KeyValue="0"
                 Key=" "
-                X="71"
-                Y="100"
+                X="142"
+                Y="200"
                 KeyImageType="NUMERIC_MODE_KEY"/>
             <button
                 KeyValue="1"
                 Key=" "
-                X="95"
-                Y="100"
+                X="190"
+                Y="200"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="143"
-                Y="100"
+                X="286"
+                Y="200"
                 KeyImageType="SYMBOL_MODE_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="189"
-                Y="100"
+                X="378"
+                Y="200"
                 KeyImageType="ENTER_KEY"/>
         </line>
     </keyboard>
@@ -238,200 +238,200 @@
             <button
                 KeyValue="0"
                 Key="Q"
-                X="5"
-                Y="10"
+                X="10"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="W"
-                X="27"
-                Y="10"
+                X="54"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="E"
-                X="49"
-                Y="10"
+                X="98"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="R"
-                X="71"
-                Y="10"
+                X="142"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="T"
-                X="93"
-                Y="10"
+                X="186"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="Y"
-                X="115"
-                Y="10"
+                X="230"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="U"
-                X="137"
-                Y="10"
+                X="274"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="I"
-                X="159"
-                Y="10"
+                X="318"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="O"
-                X="181"
-                Y="10"
+                X="362"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key="P"
-                X="203"
-                Y="10"
+                X="406"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="1">
             <button
                 KeyValue="0"
                 Key="A"
-                X="15"
-                Y="40"
+                X="30"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="S"
-                X="37"
-                Y="40"
+                X="74"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="D"
-                X="59"
-                Y="40"
+                X="118"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="F"
-                X="81"
-                Y="40"
+                X="162"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="G"
-                X="103"
-                Y="40"
+                X="206"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="H"
-                X="125"
-                Y="40"
+                X="250"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="J"
-                X="147"
-                Y="40"
+                X="294"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="K"
-                X="169"
-                Y="40"
+                X="338"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="L"
-                X="191"
-                Y="40"
+                X="382"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="2">
             <button
                 KeyValue="0"
                 Key=" "
-                X="5"
-                Y="70"
+                X="10"
+                Y="140"
                 KeyImageType="CAPS_KEY"/>
             <button
                 KeyValue="1"
                 Key="Z"
-                X="37"
-                Y="70"
+                X="74"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="X"
-                X="59"
-                Y="70"
+                X="118"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="C"
-                X="81"
-                Y="70"
+                X="162"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="V"
-                X="103"
-                Y="70"
+                X="206"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="B"
-                X="125"
-                Y="70"
+                X="250"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="N"
-                X="147"
-                Y="70"
+                X="294"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="M"
-                X="169"
-                Y="70"
+                X="338"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="203"
-                Y="70"
+                X="406"
+                Y="140"
                 KeyImageType="BACKSPACE_KEY"/>
         </line>
         <line Num="3">
             <button
                 KeyValue="0"
                 Key=" "
-                X="71"
-                Y="100"
+                X="142"
+                Y="200"
                 KeyImageType="NUMERIC_MODE_KEY"/>
             <button
                 KeyValue="1"
                 Key=" "
-                X="95"
-                Y="100"
+                X="190"
+                Y="200"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="143"
-                Y="100"
+                X="286"
+                Y="200"
                 KeyImageType="SYMBOL_MODE_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="189"
-                Y="100"
+                X="378"
+                Y="200"
                 KeyImageType="ENTER_KEY"/>
         </line>
     </keyboard>
@@ -440,206 +440,206 @@
             <button
                 KeyValue="0"
                 Key="1"
-                X="5"
-                Y="10"
+                X="10"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="2"
-                X="27"
-                Y="10"
+                X="54"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="3"
-                X="49"
-                Y="10"
+                X="98"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="4"
-                X="71"
-                Y="10"
+                X="142"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="5"
-                X="93"
-                Y="10"
+                X="186"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="6"
-                X="115"
-                Y="10"
+                X="230"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="7"
-                X="137"
-                Y="10"
+                X="274"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="8"
-                X="159"
-                Y="10"
+                X="318"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="9"
-                X="181"
-                Y="10"
+                X="362"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key="0"
-                X="203"
-                Y="10"
+                X="406"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="1">
             <button
                 KeyValue="0"
                 Key="+"
-                X="5"
-                Y="40"
+                X="10"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="-"
-                X="27"
-                Y="40"
+                X="54"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="*"
-                X="49"
-                Y="40"
+                X="98"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="/"
-                X="71"
-                Y="40"
+                X="142"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="="
-                X="93"
-                Y="40"
+                X="186"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="."
-                X="115"
-                Y="40"
+                X="230"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key=","
-                X="137"
-                Y="40"
+                X="274"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key=";"
-                X="159"
-                Y="40"
+                X="318"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="\u005C\u005c"
-                X="181"
-                Y="40"
+                X="362"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key="\u0022"
-                X="203"
-                Y="40"
+                X="406"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
         </line>        
         <line Num="2">
             <button
                 KeyValue="0"
                 Key=" "
-                X="5"
-                Y="70"
+                X="10"
+                Y="140"
                 KeyImageType="CAPS_KEY"/>
             <button
                 KeyValue="1"
                 Key="~"
-                X="37"
-                Y="70"
+                X="74"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="["
-                X="59"
-                Y="70"
+                X="118"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="]"
-                X="81"
-                Y="70"
+                X="162"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="|"
-                X="103"
-                Y="70"
+                X="206"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="_"
-                X="125"
-                Y="70"
+                X="250"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="("
-                X="147"
-                Y="70"
+                X="294"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key=")"
-                X="169"
-                Y="70"
+                X="338"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="203"
-                Y="70"
+                X="406"
+                Y="140"
                 KeyImageType="BACKSPACE_KEY"/>
         </line>
         <line Num="3">
             <button
                 KeyValue="0"
                 Key=" "
-                X="71"
-                Y="100"
+                X="142"
+                Y="200"
                 KeyImageType="ALPHA_MODE_KEY"/>
             <button
                 KeyValue="1"
                 Key=" "
-                X="95"
-                Y="100"
+                X="190"
+                Y="200"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="143"
-                Y="100"
+                X="286"
+                Y="200"
                 KeyImageType="SYMBOL_MODE_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="189"
-                Y="100"
+                X="378"
+                Y="200"
                 KeyImageType="ENTER_KEY"/>
         </line>
     </keyboard>
@@ -648,206 +648,206 @@
             <button
                 KeyValue="0"
                 Key="!"
-                X="5"
-                Y="10"
+                X="10"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="@"
-                X="27"
-                Y="10"
+                X="54"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="#"
-                X="49"
-                Y="10"
+                X="98"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="$"
-                X="71"
-                Y="10"
+                X="142"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="%"
-                X="93"
-                Y="10"
+                X="186"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="^"
-                X="115"
-                Y="10"
+                X="230"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="\u0026"
-                X="137"
-                Y="10"
+                X="274"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="*"
-                X="159"
-                Y="10"
+                X="318"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="("
-                X="181"
-                Y="10"
+                X="362"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key=")"
-                X="203"
-                Y="10"
+                X="406"
+                Y="20"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="1">
             <button
                 KeyValue="0"
                 Key="+"
-                X="5"
-                Y="40"
+                X="10"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="1"
                 Key="-"
-                X="27"
-                Y="40"
+                X="54"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="*"
-                X="49"
-                Y="40"
+                X="98"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key="/"
-                X="71"
-                Y="40"
+                X="142"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key="="
-                X="93"
-                Y="40"
+                X="186"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key="."
-                X="115"
-                Y="40"
+                X="230"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key=","
-                X="137"
-                Y="40"
+                X="274"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key=";"
-                X="159"
-                Y="40"
+                X="318"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="8"
                 Key="\u005c\u005c"
-                X="181"
-                Y="40"
+                X="362"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key="\u00a3"
-                X="203"
-                Y="40"
+                X="406"
+                Y="80"
                 KeyImageType="GENERAL_KEY"/>
         </line>
         <line Num="2">
             <button
                 KeyValue="0"
                 Key=" "
-                X="5"
-                Y="70"
+                X="10"
+                Y="140"
                 KeyImageType="CAPS_KEY"/>
             <button
                 KeyValue="1"
                 Key="~"
-                X="37"
-                Y="70"
+                X="74"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key="_"
-                X="59"
-                Y="70"
+                X="118"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="3"
                 Key=":"
-                X="81"
-                Y="70"
+                X="162"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="4"
                 Key=" "
-                X="103"
-                Y="70"
+                X="206"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="5"
                 Key=">"
-                X="125"
-                Y="70"
+                X="250"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="6"
                 Key="{"
-                X="147"
-                Y="70"
+                X="294"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="7"
                 Key="}"
-                X="169"
-                Y="70"
+                X="338"
+                Y="140"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="203"
-                Y="70"
+                X="406"
+                Y="140"
                 KeyImageType="BACKSPACE_KEY"/>
         </line>
         <line Num="3">
             <button
                 KeyValue="0"
                 Key=" "
-                X="71"
-                Y="100"
+                X="142"
+                Y="200"
                 KeyImageType="ALPHA_MODE_KEY"/>
             <button
                 KeyValue="1"
                 Key=" "
-                X="95"
-                Y="100"
+                X="190"
+                Y="200"
                 KeyImageType="GENERAL_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="143"
-                Y="100"
+                X="286"
+                Y="200"
                 KeyImageType="SYMBOL_MODE_KEY"/>
             <button
                 KeyValue="9"
                 Key=" "
-                X="189"
-                Y="100"
+                X="378"
+                Y="200"
                 KeyImageType="ENTER_KEY"/>
         </line>
     </keyboard>
@@ -856,26 +856,26 @@
             <button
                 KeyValue="0"
                 Key=" "
-                X="40"
-                Y="50"
+                X="80"
+                Y="100"
                 KeyImageType="LEFT_ARROW_KEY"/>
             <button
                 KeyValue="1"
                 Key=" "
-                X="140"
-                Y="50"
+                X="280"
+                Y="100"
                 KeyImageType="RIGHT_ARROW_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="90"
-                Y="10"
+                X="180"
+                Y="20"
                 KeyImageType="UP_ARROW_KEY"/>
             <button
                 KeyValue="2"
                 Key=" "
-                X="90"
-                Y="80"
+                X="180"
+                Y="160"
                 KeyImageType="DOWN_ARROW_KEY"/>
         </line>
     </keyboard>
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/skin_optional.xml patched/midp/src/configuration/configuration_xml/linux_fb/skin_optional.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/skin_optional.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_fb/skin_optional.xml	2012-01-26 14:02:21.000000000 +0100
@@ -36,15 +36,15 @@
 
   <integer
         Key="SCREEN_PAD_FORM_ITEMS"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_VERT"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_HORIZ"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="SCREEN_COLOR_BG"
@@ -84,7 +84,7 @@
 
   <integer
         Key="SCREEN_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
       
   <font
         Key="SCREEN_FONT_LABEL"
@@ -143,7 +143,7 @@
 
   <integer
         Key="SCROLL_WIDTH"
-      Value="13"/>
+      Value="26"/>
 
   <integer
         Key="SCROLL_COLOR_BG"
@@ -219,7 +219,7 @@
 
   <integer
         Key="SOFTBTN_HEIGHT"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="SOFTBTN_NUM_BUTTONS"
@@ -297,7 +297,7 @@
 
   <integer
         Key="TICKER_HEIGHT"
-      Value="17"/>
+      Value="34"/>
 
   <integer
         Key="TICKER_ALIGN"
@@ -379,11 +379,11 @@
 
   <integer
         Key="PTI_HEIGHT"
-      Value="17"/>
+      Value="34"/>
   
   <integer
         Key="PTI_MARGIN"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PTI_COLOR_BG"
@@ -427,11 +427,11 @@
 
   <integer
         Key="TITLE_HEIGHT"
-      Value="20"/>
+      Value="40"/>
 
   <integer
         Key="TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="TITLE_TEXT_ALIGN_X"
@@ -469,7 +469,7 @@
 
   <integer
         Key="ALERT_HEIGHT"
-      Value="125"/>
+      Value="250"/>
 
   <integer
         Key="ALERT_ALIGN_X"
@@ -481,7 +481,7 @@
 
   <integer
         Key="ALERT_MARGIN_H"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="ALERT_MARGIN_V"
@@ -493,11 +493,11 @@
 
   <integer
         Key="ALERT_TITLE_HEIGHT"
-      Value="32"/>
+      Value="64"/>
 
   <integer
         Key="ALERT_TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <string
         Key="ALERT_TEXT_TITLE_INFO"
@@ -525,11 +525,11 @@
 
   <integer
         Key="ALERT_PAD_VERT"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="ALERT_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="ALERT_TIMEOUT"
@@ -588,11 +588,11 @@
 
   <integer
         Key="BUSYCRSR_WIDTH"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_HEIGHT"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_NUM_FRAMES"
@@ -623,31 +623,31 @@
 
   <integer
         Key="CHOICE_WIDTH_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_HEIGHT_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_WIDTH_SCROLL"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="CHOICE_WIDTH_THUMB"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="CHOICE_HEIGHT_THUMB"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="CHOICE_COLOR_FG"
@@ -718,23 +718,23 @@
 
   <integer
         Key="DATEEDITOR_HEIGHT"
-      Value="110"/>
+      Value="220"/>
 
   <integer
         Key="DATEEDITOR_HEIGHT_POPUPS"
-      Value="73"/>
+      Value="146"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_D"
-      Value="111"/>
+      Value="222"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_T"
-      Value="99"/>
+      Value="198"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_DT"
-      Value="167"/>
+      Value="334"/>
 
   <integer
         Key="DATEEDITOR_COLOR_BG"
@@ -795,7 +795,6 @@
       Value="dateeditor.image_days"
     Romized="false"/>
 
-
   <image
         Key="DATEEDITOR_IMAGE_TIME_BG"
       Value="dateeditor.image_time_bg"
@@ -819,15 +818,15 @@
 
   <integer
         Key="DATEFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="DATEFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="DATEFIELD_BTN_BRDR_W"
-      Value="3"/>
+      Value="6"/>
 
   <font
         Key="DATEFIELD_FONT"
@@ -890,15 +889,15 @@
 
   <integer
         Key="GAUGE_WIDTH"
-      Value="137"/>
+      Value="274"/>
 
   <integer
         Key="GAUGE_HEIGHT"
-      Value="27"/>
+      Value="54"/>
 
   <integer
         Key="GAUGE_METER_X"
-      Value="24"/>
+      Value="48"/>
 
   <integer
         Key="GAUGE_METER_Y"
@@ -906,7 +905,7 @@
 
   <integer
         Key="GAUGE_INC_BTN_X"
-      Value="114"/>
+      Value="228"/>
 
   <integer
         Key="GAUGE_INC_BTN_Y"
@@ -922,15 +921,15 @@
 
   <integer
         Key="GAUGE_VALUE_X"
-      Value="88"/>
+      Value="176"/>
 
   <integer
         Key="GAUGE_VALUE_Y"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="GAUGE_VALUE_WIDTH"
-      Value="24"/>
+      Value="48"/>
 
   <image
         Key="GAUGE_IMAGE_BG"
@@ -980,23 +979,23 @@
 
   <integer
         Key="IMAGEITEM_PAD_LNK_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_LNK_V"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_V"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_BTN_BORDER_W"
-      Value="3"/>
+      Value="6"/>
 
   <image
         Key="IMAGEITEM_IMAGE_LNK_H"
@@ -1014,13 +1013,18 @@
      Pieces="9"
     Romized="false"/>
 
+  <image
+        Key="KEYBOARD_KEY"
+      Value="keyboard.key"
+    Romized="false"/>
+
   <integer
         Key="MENU_WIDTH"
-      Value="144"/>
+      Value="288"/>
 
   <integer
         Key="MENU_HEIGHT"
-      Value="159"/>
+      Value="318"/>
 
   <integer
         Key="MENU_ALIGN_X"
@@ -1032,15 +1036,15 @@
 
   <integer
         Key="MENU_TITLE_X"
-      Value="80"/>
+      Value="160"/>
 
   <integer
         Key="MENU_TITLE_Y"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="MENU_TITLE_MAXWIDTH"
-      Value="100"/>
+      Value="200"/>
 
   <integer
         Key="MENU_TITLE_ALIGN"
@@ -1052,19 +1056,19 @@
 
   <integer
         Key="MENU_ITEM_HEIGHT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="MENU_ITEM_TOPOFFSET"
-      Value="21"/>
+      Value="42"/>
 
   <integer
         Key="MENU_ITEM_INDEX_ANCHOR_X"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="MENU_ITEM_ANCHOR_X"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="MENU_COLOR_BG"
@@ -1138,15 +1142,15 @@
 
   <integer
         Key="PBAR_WIDTH"
-      Value="168"/>
+      Value="336"/>
 
   <integer
         Key="PBAR_HEIGHT"
-      Value="22"/>
+      Value="44"/>
 
   <integer
         Key="PBAR_METER_X"
-      Value="36"/>
+      Value="72"/>
 
   <integer
         Key="PBAR_METER_Y"
@@ -1158,11 +1162,11 @@
 
   <integer
         Key="PBAR_VALUE_Y"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PBAR_VALUE_WIDTH"
-      Value="32"/>
+      Value="64"/>
 
   <image
         Key="PBAR_IMAGE_BG"
@@ -1254,19 +1258,19 @@
 
   <integer
         Key="TEXTFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="TEXTFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="TEXTFIELD_BOX_MARGIN"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="TEXTFIELD_WIDTH_CARET"
-      Value="1"/>
+      Value="2"/>
 
   <integer
         Key="TEXTFIELD_SCRL_RATE"
@@ -1322,11 +1326,11 @@
 
   <integer
         Key="UPDATEBAR_WIDTH"
-      Value="150"/>
+      Value="300"/>
 
   <integer
         Key="UPDATEBAR_HEIGHT"
-      Value="25"/>
+      Value="50"/>
 
   <integer
         Key="UPDATEBAR_NUM_FRAMES"
@@ -1361,11 +1365,11 @@
 
   <integer_seq
         Key="SOFTBTN_BUTTON_MAX_WIDTH"
-      Value="85,85"/>
+      Value="170,170"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_X"
-      Value="5,-5"/>
+      Value="10,-10"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_Y"
diff -Naur orig/midp/src/configuration/configuration_xml/linux_fb/skin.xml patched/midp/src/configuration/configuration_xml/linux_fb/skin.xml
--- orig/midp/src/configuration/configuration_xml/linux_fb/skin.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_fb/skin.xml	2012-01-26 14:02:21.000000000 +0100
@@ -40,15 +40,15 @@
 
   <integer
         Key="SCREEN_PAD_FORM_ITEMS"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_VERT"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_HORIZ"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="SCREEN_COLOR_BG"
@@ -85,11 +85,11 @@
   <integer
         Key="SCREEN_BORDER_STYLE"
       Value="Graphics.SOLID"/>
-
+  
   <integer
         Key="SCREEN_SCROLL_AMOUNT"
-      Value="15"/>
-      
+      Value="30"/>
+
   <font
         Key="SCREEN_FONT_LABEL"
       Value="FontResources.PROP_P_M"/>
@@ -147,7 +147,7 @@
 
   <integer
         Key="SCROLL_WIDTH"
-      Value="13"/>
+      Value="26"/>
 
   <integer
         Key="SCROLL_COLOR_BG"
@@ -223,7 +223,7 @@
 
   <integer
         Key="SOFTBTN_HEIGHT"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="SOFTBTN_NUM_BUTTONS"
@@ -285,23 +285,23 @@
         Key="SOFTBTN_IMAGE_BG"
       Value="softbtn.image_bg"
      Pieces="3"
-    Romized="true"/>
+    Romized="false"/>
 
   <composite_image
         Key="SOFTBTN_IMAGE_MU_BG"
       Value="softbtn.image_mu_bg"
      Pieces="3"
-    Romized="true"/>
+    Romized="false"/>
 
   <composite_image
         Key="SOFTBTN_IMAGE_AU_BG"
       Value="softbtn.image_au_bg"
      Pieces="3"
-    Romized="true"/>
+    Romized="false"/>
 
   <integer
         Key="TICKER_HEIGHT"
-      Value="17"/>
+      Value="34"/>
 
   <integer
         Key="TICKER_ALIGN"
@@ -383,11 +383,11 @@
 
   <integer
         Key="PTI_HEIGHT"
-      Value="17"/>
-  
+      Value="34"/>
+
   <integer
         Key="PTI_MARGIN"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PTI_COLOR_BG"
@@ -427,15 +427,15 @@
   <image
         Key="PTI_RIGHT_ARROW"
       Value="pti.right_arrow"
-    Romized="false"/>
-
+    Romized="false"/>    
+    
   <integer
         Key="TITLE_HEIGHT"
-      Value="20"/>
+      Value="40"/>
 
   <integer
         Key="TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="TITLE_TEXT_ALIGN_X"
@@ -473,11 +473,11 @@
 
   <integer
         Key="ALERT_HEIGHT"
-      Value="125"/>
+      Value="250"/>
 
   <integer
         Key="ALERT_ALIGN_X"
-        Value="Graphics.LEFT"/>
+        Value="Graphics.HCENTER"/>
 
   <integer
         Key="ALERT_ALIGN_Y"
@@ -485,7 +485,7 @@
 
   <integer
         Key="ALERT_MARGIN_H"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="ALERT_MARGIN_V"
@@ -497,11 +497,11 @@
 
   <integer
         Key="ALERT_TITLE_HEIGHT"
-      Value="32"/>
+      Value="64"/>
 
   <integer
         Key="ALERT_TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <string
         Key="ALERT_TEXT_TITLE_INFO"
@@ -529,11 +529,11 @@
 
   <integer
         Key="ALERT_PAD_VERT"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="ALERT_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="ALERT_TIMEOUT"
@@ -592,11 +592,11 @@
 
   <integer
         Key="BUSYCRSR_WIDTH"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_HEIGHT"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_NUM_FRAMES"
@@ -627,31 +627,31 @@
 
   <integer
         Key="CHOICE_WIDTH_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_HEIGHT_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_WIDTH_SCROLL"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="CHOICE_WIDTH_THUMB"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="CHOICE_HEIGHT_THUMB"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="CHOICE_COLOR_FG"
@@ -722,23 +722,23 @@
 
   <integer
         Key="DATEEDITOR_HEIGHT"
-      Value="110"/>
+      Value="220"/>
 
   <integer
         Key="DATEEDITOR_HEIGHT_POPUPS"
-      Value="73"/>
+      Value="146"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_D"
-      Value="111"/>
+      Value="222"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_T"
-      Value="99"/>
+      Value="198"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_DT"
-      Value="167"/>
+      Value="334"/>
 
   <integer
         Key="DATEEDITOR_COLOR_BG"
@@ -822,15 +822,15 @@
 
   <integer
         Key="DATEFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="DATEFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="DATEFIELD_BTN_BRDR_W"
-      Value="3"/>
+      Value="6"/>
 
   <font
         Key="DATEFIELD_FONT"
@@ -893,15 +893,15 @@
 
   <integer
         Key="GAUGE_WIDTH"
-      Value="137"/>
+      Value="274"/>
 
   <integer
         Key="GAUGE_HEIGHT"
-      Value="27"/>
+      Value="54"/>
 
   <integer
         Key="GAUGE_METER_X"
-      Value="24"/>
+      Value="48"/>
 
   <integer
         Key="GAUGE_METER_Y"
@@ -909,7 +909,7 @@
 
   <integer
         Key="GAUGE_INC_BTN_X"
-      Value="114"/>
+      Value="228"/>
 
   <integer
         Key="GAUGE_INC_BTN_Y"
@@ -925,15 +925,15 @@
 
   <integer
         Key="GAUGE_VALUE_X"
-      Value="88"/>
+      Value="176"/>
 
   <integer
         Key="GAUGE_VALUE_Y"
-      Value="6"/>
+      Value="12"/>
 
   <integer
         Key="GAUGE_VALUE_WIDTH"
-      Value="24"/>
+      Value="48"/>
 
   <image
         Key="GAUGE_IMAGE_BG"
@@ -983,23 +983,23 @@
 
   <integer
         Key="IMAGEITEM_PAD_LNK_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_LNK_V"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_V"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_BTN_BORDER_W"
-      Value="3"/>
+      Value="6"/>
 
   <image
         Key="IMAGEITEM_IMAGE_LNK_H"
@@ -1019,7 +1019,7 @@
   
   <integer
         Key="KEYBOARD_HEIGHT"
-      Value="125"/>
+      Value="250"/>
 
    <integer
         Key="KEYBOARD_COEFFICIENT"
@@ -1130,11 +1130,11 @@
 
   <integer
         Key="MENU_WIDTH"
-      Value="144"/>
+      Value="288"/>
 
   <integer
         Key="MENU_HEIGHT"
-      Value="159"/>
+      Value="318"/>
 
   <integer
         Key="MENU_ALIGN_X"
@@ -1146,15 +1146,15 @@
 
   <integer
         Key="MENU_TITLE_X"
-      Value="80"/>
+      Value="160"/>
 
   <integer
         Key="MENU_TITLE_Y"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="MENU_TITLE_MAXWIDTH"
-      Value="100"/>
+      Value="300"/>
 
   <integer
         Key="MENU_TITLE_ALIGN"
@@ -1166,19 +1166,19 @@
 
   <integer
         Key="MENU_ITEM_HEIGHT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="MENU_ITEM_TOPOFFSET"
-      Value="21"/>
+      Value="42"/>
 
   <integer
         Key="MENU_ITEM_INDEX_ANCHOR_X"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="MENU_ITEM_ANCHOR_X"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="MENU_COLOR_BG"
@@ -1252,15 +1252,15 @@
 
   <integer
         Key="PBAR_WIDTH"
-      Value="168"/>
+      Value="336"/>
 
   <integer
         Key="PBAR_HEIGHT"
-      Value="22"/>
+      Value="44"/>
 
   <integer
         Key="PBAR_METER_X"
-      Value="36"/>
+      Value="72"/>
 
   <integer
         Key="PBAR_METER_Y"
@@ -1268,15 +1268,15 @@
 
   <integer
         Key="PBAR_VALUE_X"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="PBAR_VALUE_Y"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PBAR_VALUE_WIDTH"
-      Value="32"/>
+      Value="64"/>
 
   <image
         Key="PBAR_IMAGE_BG"
@@ -1368,19 +1368,19 @@
 
   <integer
         Key="TEXTFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="TEXTFIELD_PAD_V"
-      Value="2"/>
+      Value="10"/>
 
   <integer
         Key="TEXTFIELD_BOX_MARGIN"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="TEXTFIELD_WIDTH_CARET"
-      Value="1"/>
+      Value="2"/>
 
   <integer
         Key="TEXTFIELD_SCRL_RATE"
@@ -1436,11 +1436,11 @@
 
   <integer
         Key="UPDATEBAR_WIDTH"
-      Value="150"/>
+      Value="300"/>
 
   <integer
         Key="UPDATEBAR_HEIGHT"
-      Value="25"/>
+      Value="50"/>
 
   <integer
         Key="UPDATEBAR_NUM_FRAMES"
@@ -1475,15 +1475,15 @@
 
   <integer_seq
         Key="SOFTBTN_BUTTON_MAX_WIDTH"
-      Value="85,85"/>
+      Value="170,170"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_X"
-      Value="5,-5"/>
+      Value="10,-10"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_Y"
-      Value="2,2"/>
+      Value="4,4"/>
    <image
          Key="DATEEDITOR_IMAGE_MON_HE_BG"
        Value="dateeditor.image_mon_he_bg"
diff -Naur orig/midp/src/configuration/configuration_xml/linux_qte/constants.xml patched/midp/src/configuration/configuration_xml/linux_qte/constants.xml
--- orig/midp/src/configuration/configuration_xml/linux_qte/constants.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_qte/constants.xml	2012-01-26 14:02:21.000000000 +0100
@@ -49,20 +49,20 @@
             Comment="When false, Chameleon will not even attempt to load romized images for the UI."/>
   <constant Type="int"
             Name="CHAM_WIDTH"
-            Value="176"
+            Value="480"
             Comment="(Chameleon Only) display width"/>
   <constant Type="int"
+            Name="CHAM_FULLWIDTH"
+            Value="480"
+            Comment="(Chameleon Only) full display width"/>
+  <constant Type="int"
             Name="CHAM_HEIGHT"
-            Value="192"
+            Value="720"
             Comment="(Chameleon Only) display height"/>
   <constant Type="int"
             Name="CHAM_FULLHEIGHT"
-            Value="210"
+            Value="720"
             Comment="(Chameleon Only) full display height"/>
-  <constant Type="int"
-            Name="CHAM_FULLWIDTH"
-            Value="176"
-            Comment="(Chameleon Only) full display width"/>
   <constant Type="boolean"
             Name="TRAVERSAL2D"
             Value="true"
@@ -73,25 +73,21 @@
             Comment="The maximum number of events in the event queue"/>
   <constant Type="int"
             Name="FULLWIDTH"
-            Value="176"
+            Value="480"
             Comment="(Fixed) full display width"/>
   <constant Type="int"
             Name="FULLHEIGHT"
-            Value="166" 
+            Value="720" 
             Comment="(Fixed) full display height"/>
   <constant Type="int"
             Name="NORMALWIDTH"
-            Value="176" 
+            Value="480" 
             Comment="(Fixed) normal width"/>
   <constant Type="int"
             Name="NORMALHEIGHT"
-            Value="149" 
+            Value="720" 
             Comment="(Fixed) normal height"/>
   <constant Type="int"
-            Name="MENUBAR_HEIGHT"
-            Value="24" 
-            Comment="the height of the platform widget menu bar"/>
-  <constant Type="int"
             Name="VERT_SCROLLBAR_WIDTH"
             Value="16" 
             Comment="the width of the vertical scrollbar"/>
diff -Naur orig/midp/src/configuration/configuration_xml/linux_qte/skin_optional.xml patched/midp/src/configuration/configuration_xml/linux_qte/skin_optional.xml
--- orig/midp/src/configuration/configuration_xml/linux_qte/skin_optional.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_qte/skin_optional.xml	2012-01-26 14:02:21.000000000 +0100
@@ -36,15 +36,15 @@
 
   <integer
         Key="SCREEN_PAD_FORM_ITEMS"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_VERT"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_HORIZ"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="SCREEN_COLOR_BG"
@@ -84,7 +84,7 @@
 
   <integer
         Key="SCREEN_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
       
   <font
         Key="SCREEN_FONT_LABEL"
@@ -143,7 +143,7 @@
 
   <integer
         Key="SCROLL_WIDTH"
-      Value="13"/>
+      Value="26"/>
 
   <integer
         Key="SCROLL_COLOR_BG"
@@ -219,7 +219,7 @@
 
   <integer
         Key="SOFTBTN_HEIGHT"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="SOFTBTN_NUM_BUTTONS"
@@ -297,7 +297,7 @@
 
   <integer
         Key="TICKER_HEIGHT"
-      Value="17"/>
+      Value="34"/>
 
   <integer
         Key="TICKER_ALIGN"
@@ -379,11 +379,11 @@
 
   <integer
         Key="PTI_HEIGHT"
-      Value="17"/>
+      Value="34"/>
   
   <integer
         Key="PTI_MARGIN"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PTI_COLOR_BG"
@@ -427,11 +427,11 @@
 
   <integer
         Key="TITLE_HEIGHT"
-      Value="20"/>
+      Value="40"/>
 
   <integer
         Key="TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="TITLE_TEXT_ALIGN_X"
@@ -469,7 +469,7 @@
 
   <integer
         Key="ALERT_HEIGHT"
-      Value="125"/>
+      Value="250"/>
 
   <integer
         Key="ALERT_ALIGN_X"
@@ -481,7 +481,7 @@
 
   <integer
         Key="ALERT_MARGIN_H"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="ALERT_MARGIN_V"
@@ -493,11 +493,11 @@
 
   <integer
         Key="ALERT_TITLE_HEIGHT"
-      Value="32"/>
+      Value="64"/>
 
   <integer
         Key="ALERT_TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <string
         Key="ALERT_TEXT_TITLE_INFO"
@@ -525,11 +525,11 @@
 
   <integer
         Key="ALERT_PAD_VERT"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="ALERT_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="ALERT_TIMEOUT"
@@ -588,11 +588,11 @@
 
   <integer
         Key="BUSYCRSR_WIDTH"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_HEIGHT"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_NUM_FRAMES"
@@ -623,31 +623,31 @@
 
   <integer
         Key="CHOICE_WIDTH_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_HEIGHT_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_WIDTH_SCROLL"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="CHOICE_WIDTH_THUMB"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="CHOICE_HEIGHT_THUMB"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="CHOICE_COLOR_FG"
@@ -718,23 +718,23 @@
 
   <integer
         Key="DATEEDITOR_HEIGHT"
-      Value="110"/>
+      Value="220"/>
 
   <integer
         Key="DATEEDITOR_HEIGHT_POPUPS"
-      Value="73"/>
+      Value="146"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_D"
-      Value="111"/>
+      Value="222"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_T"
-      Value="99"/>
+      Value="198"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_DT"
-      Value="167"/>
+      Value="334"/>
 
   <integer
         Key="DATEEDITOR_COLOR_BG"
@@ -818,15 +818,15 @@
 
   <integer
         Key="DATEFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="DATEFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="DATEFIELD_BTN_BRDR_W"
-      Value="3"/>
+      Value="6"/>
 
   <font
         Key="DATEFIELD_FONT"
@@ -889,15 +889,15 @@
 
   <integer
         Key="GAUGE_WIDTH"
-      Value="137"/>
+      Value="274"/>
 
   <integer
         Key="GAUGE_HEIGHT"
-      Value="27"/>
+      Value="54"/>
 
   <integer
         Key="GAUGE_METER_X"
-      Value="24"/>
+      Value="48"/>
 
   <integer
         Key="GAUGE_METER_Y"
@@ -905,7 +905,7 @@
 
   <integer
         Key="GAUGE_INC_BTN_X"
-      Value="114"/>
+      Value="228"/>
 
   <integer
         Key="GAUGE_INC_BTN_Y"
@@ -921,15 +921,15 @@
 
   <integer
         Key="GAUGE_VALUE_X"
-      Value="88"/>
+      Value="176"/>
 
   <integer
         Key="GAUGE_VALUE_Y"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="GAUGE_VALUE_WIDTH"
-      Value="24"/>
+      Value="48"/>
 
   <image
         Key="GAUGE_IMAGE_BG"
@@ -979,23 +979,23 @@
 
   <integer
         Key="IMAGEITEM_PAD_LNK_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_LNK_V"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_V"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_BTN_BORDER_W"
-      Value="3"/>
+      Value="6"/>
 
   <image
         Key="IMAGEITEM_IMAGE_LNK_H"
@@ -1013,13 +1013,18 @@
      Pieces="9"
     Romized="false"/>
 
+  <image
+        Key="KEYBOARD_KEY"
+      Value="keyboard.key"
+    Romized="false"/>
+
   <integer
         Key="MENU_WIDTH"
-      Value="144"/>
+      Value="288"/>
 
   <integer
         Key="MENU_HEIGHT"
-      Value="159"/>
+      Value="318"/>
 
   <integer
         Key="MENU_ALIGN_X"
@@ -1031,15 +1036,15 @@
 
   <integer
         Key="MENU_TITLE_X"
-      Value="80"/>
+      Value="160"/>
 
   <integer
         Key="MENU_TITLE_Y"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="MENU_TITLE_MAXWIDTH"
-      Value="100"/>
+      Value="200"/>
 
   <integer
         Key="MENU_TITLE_ALIGN"
@@ -1051,19 +1056,19 @@
 
   <integer
         Key="MENU_ITEM_HEIGHT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="MENU_ITEM_TOPOFFSET"
-      Value="21"/>
+      Value="42"/>
 
   <integer
         Key="MENU_ITEM_INDEX_ANCHOR_X"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="MENU_ITEM_ANCHOR_X"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="MENU_COLOR_BG"
@@ -1137,15 +1142,15 @@
 
   <integer
         Key="PBAR_WIDTH"
-      Value="168"/>
+      Value="336"/>
 
   <integer
         Key="PBAR_HEIGHT"
-      Value="22"/>
+      Value="44"/>
 
   <integer
         Key="PBAR_METER_X"
-      Value="36"/>
+      Value="72"/>
 
   <integer
         Key="PBAR_METER_Y"
@@ -1157,11 +1162,11 @@
 
   <integer
         Key="PBAR_VALUE_Y"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PBAR_VALUE_WIDTH"
-      Value="32"/>
+      Value="64"/>
 
   <image
         Key="PBAR_IMAGE_BG"
@@ -1253,19 +1258,19 @@
 
   <integer
         Key="TEXTFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="TEXTFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="TEXTFIELD_BOX_MARGIN"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="TEXTFIELD_WIDTH_CARET"
-      Value="1"/>
+      Value="2"/>
 
   <integer
         Key="TEXTFIELD_SCRL_RATE"
@@ -1321,11 +1326,11 @@
 
   <integer
         Key="UPDATEBAR_WIDTH"
-      Value="150"/>
+      Value="300"/>
 
   <integer
         Key="UPDATEBAR_HEIGHT"
-      Value="25"/>
+      Value="50"/>
 
   <integer
         Key="UPDATEBAR_NUM_FRAMES"
@@ -1360,15 +1365,15 @@
 
   <integer_seq
         Key="SOFTBTN_BUTTON_MAX_WIDTH"
-      Value="85,85"/>
+      Value="170,170"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_X"
-      Value="5,-5"/>
+      Value="10,-10"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_Y"
-      Value="1,1"/>
+      Value="2,2"/>
 
 </skin_properties>
 </skin>
diff -Naur orig/midp/src/configuration/configuration_xml/linux_qte/skin.xml patched/midp/src/configuration/configuration_xml/linux_qte/skin.xml
--- orig/midp/src/configuration/configuration_xml/linux_qte/skin.xml	2011-03-09 19:19:01.000000000 +0100
+++ patched/midp/src/configuration/configuration_xml/linux_qte/skin.xml	2012-01-26 14:02:21.000000000 +0100
@@ -42,15 +42,15 @@
 
   <integer
         Key="SCREEN_PAD_FORM_ITEMS"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_VERT"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="SCREEN_PAD_LABEL_HORIZ"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="SCREEN_COLOR_BG"
@@ -90,7 +90,7 @@
 
   <integer
         Key="SCREEN_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
 
   <font
         Key="SCREEN_FONT_LABEL"
@@ -149,7 +149,7 @@
 
   <integer
         Key="SCROLL_WIDTH"
-      Value="13"/>
+      Value="26"/>
 
   <integer
         Key="SCROLL_COLOR_BG"
@@ -225,7 +225,7 @@
 
   <integer
         Key="SOFTBTN_HEIGHT"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="SOFTBTN_NUM_BUTTONS"
@@ -287,24 +287,23 @@
         Key="SOFTBTN_IMAGE_BG"
       Value="softbtn.image_bg"
      Pieces="3"
-    Romized="true"/>
+    Romized="false"/>
 
   <composite_image
         Key="SOFTBTN_IMAGE_MU_BG"
       Value="softbtn.image_mu_bg"
      Pieces="3"
-    Romized="true"/>
+    Romized="false"/>
 
   <composite_image
         Key="SOFTBTN_IMAGE_AU_BG"
       Value="softbtn.image_au_bg"
      Pieces="3"
-    Romized="true"/>
-
+    Romized="false"/>
 
   <integer
         Key="TICKER_HEIGHT"
-      Value="17"/>
+      Value="34"/>
 
   <integer
         Key="TICKER_ALIGN"
@@ -386,11 +385,11 @@
 
   <integer
         Key="PTI_HEIGHT"
-      Value="17"/>
+      Value="34"/>
 
   <integer
         Key="PTI_MARGIN"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PTI_COLOR_BG"
@@ -414,7 +413,7 @@
 
   <font
         Key="PTI_FONT"
-      Value="FontResources.SYS_P_M"/>
+      Value="FontResources.SYS_B_S"/>
 
   <composite_image
         Key="PTI_IMAGE_BG"
@@ -430,15 +429,15 @@
   <image
         Key="PTI_RIGHT_ARROW"
       Value="pti.right_arrow"
-    Romized="false"/>
-
+    Romized="false"/>    
+    
   <integer
         Key="TITLE_HEIGHT"
-      Value="20"/>
+      Value="40"/>
 
   <integer
         Key="TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="TITLE_TEXT_ALIGN_X"
@@ -476,7 +475,7 @@
 
   <integer
         Key="ALERT_HEIGHT"
-      Value="125"/>
+      Value="250"/>
 
   <integer
         Key="ALERT_ALIGN_X"
@@ -488,7 +487,7 @@
 
   <integer
         Key="ALERT_MARGIN_H"
-      Value="5"/>
+      Value="10"/>
 
   <integer
         Key="ALERT_MARGIN_V"
@@ -500,11 +499,11 @@
 
   <integer
         Key="ALERT_TITLE_HEIGHT"
-      Value="32"/>
+      Value="64"/>
 
   <integer
         Key="ALERT_TITLE_MARGIN"
-      Value="5"/>
+      Value="10"/>
 
   <string
         Key="ALERT_TEXT_TITLE_INFO"
@@ -532,11 +531,11 @@
 
   <integer
         Key="ALERT_PAD_VERT"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="ALERT_SCROLL_AMOUNT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="ALERT_TIMEOUT"
@@ -595,11 +594,11 @@
 
   <integer
         Key="BUSYCRSR_WIDTH"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_HEIGHT"
-      Value="40"/>
+      Value="80"/>
 
   <integer
         Key="BUSYCRSR_NUM_FRAMES"
@@ -630,31 +629,31 @@
 
   <integer
         Key="CHOICE_WIDTH_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_HEIGHT_IMAGE"
-      Value="16"/>
+      Value="32"/>
 
   <integer
         Key="CHOICE_WIDTH_SCROLL"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="CHOICE_WIDTH_THUMB"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="CHOICE_HEIGHT_THUMB"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="CHOICE_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="CHOICE_COLOR_FG"
@@ -725,23 +724,23 @@
 
   <integer
         Key="DATEEDITOR_HEIGHT"
-      Value="110"/>
+      Value="220"/>
 
   <integer
         Key="DATEEDITOR_HEIGHT_POPUPS"
-      Value="73"/>
+      Value="146"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_D"
-      Value="111"/>
+      Value="222"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_T"
-      Value="99"/>
+      Value="198"/>
 
   <integer
         Key="DATEEDITOR_WIDTH_DT"
-      Value="167"/>
+      Value="334"/>
 
   <integer
         Key="DATEEDITOR_COLOR_BG"
@@ -825,15 +824,15 @@
 
   <integer
         Key="DATEFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="DATEFIELD_PAD_V"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="DATEFIELD_BTN_BRDR_W"
-      Value="3"/>
+      Value="6"/>
 
   <font
         Key="DATEFIELD_FONT"
@@ -896,15 +895,15 @@
 
   <integer
         Key="GAUGE_WIDTH"
-      Value="137"/>
+      Value="274"/>
 
   <integer
         Key="GAUGE_HEIGHT"
-      Value="27"/>
+      Value="54"/>
 
   <integer
         Key="GAUGE_METER_X"
-      Value="24"/>
+      Value="48"/>
 
   <integer
         Key="GAUGE_METER_Y"
@@ -912,7 +911,7 @@
 
   <integer
         Key="GAUGE_INC_BTN_X"
-      Value="114"/>
+      Value="228"/>
 
   <integer
         Key="GAUGE_INC_BTN_Y"
@@ -928,15 +927,15 @@
 
   <integer
         Key="GAUGE_VALUE_X"
-      Value="88"/>
+      Value="176"/>
 
   <integer
         Key="GAUGE_VALUE_Y"
-      Value="6"/>
+      Value="12"/>
 
   <integer
         Key="GAUGE_VALUE_WIDTH"
-      Value="24"/>
+      Value="48"/>
 
   <image
         Key="GAUGE_IMAGE_BG"
@@ -986,23 +985,23 @@
 
   <integer
         Key="IMAGEITEM_PAD_LNK_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_LNK_V"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_H"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_PAD_BTN_V"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="IMAGEITEM_BTN_BORDER_W"
-      Value="3"/>
+      Value="6"/>
 
   <image
         Key="IMAGEITEM_IMAGE_LNK_H"
@@ -1022,7 +1021,7 @@
 
   <integer
         Key="KEYBOARD_HEIGHT"
-      Value="125"/>  
+      Value="250"/>  
 
   <integer
         Key="KEYBOARD_COEFFICIENT"
@@ -1133,11 +1132,11 @@
 
   <integer
         Key="MENU_WIDTH"
-      Value="144"/>
+      Value="288"/>
 
   <integer
         Key="MENU_HEIGHT"
-      Value="159"/>
+      Value="318"/>
 
   <integer
         Key="MENU_ALIGN_X"
@@ -1149,15 +1148,15 @@
 
   <integer
         Key="MENU_TITLE_X"
-      Value="80"/>
+      Value="160"/>
 
   <integer
         Key="MENU_TITLE_Y"
-      Value="2"/>
+      Value="4"/>
 
   <integer
         Key="MENU_TITLE_MAXWIDTH"
-      Value="100"/>
+      Value="300"/>
 
   <integer
         Key="MENU_TITLE_ALIGN"
@@ -1169,19 +1168,19 @@
 
   <integer
         Key="MENU_ITEM_HEIGHT"
-      Value="15"/>
+      Value="30"/>
 
   <integer
         Key="MENU_ITEM_TOPOFFSET"
-      Value="21"/>
+      Value="42"/>
 
   <integer
         Key="MENU_ITEM_INDEX_ANCHOR_X"
-      Value="8"/>
+      Value="16"/>
 
   <integer
         Key="MENU_ITEM_ANCHOR_X"
-      Value="18"/>
+      Value="36"/>
 
   <integer
         Key="MENU_COLOR_BG"
@@ -1255,15 +1254,15 @@
 
   <integer
         Key="PBAR_WIDTH"
-      Value="168"/>
+      Value="336"/>
 
   <integer
         Key="PBAR_HEIGHT"
-      Value="22"/>
+      Value="44"/>
 
   <integer
         Key="PBAR_METER_X"
-      Value="36"/>
+      Value="72"/>
 
   <integer
         Key="PBAR_METER_Y"
@@ -1271,15 +1270,15 @@
 
   <integer
         Key="PBAR_VALUE_X"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="PBAR_VALUE_Y"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="PBAR_VALUE_WIDTH"
-      Value="32"/>
+      Value="64"/>
 
   <image
         Key="PBAR_IMAGE_BG"
@@ -1371,19 +1370,19 @@
 
   <integer
         Key="TEXTFIELD_PAD_H"
-      Value="3"/>
+      Value="6"/>
 
   <integer
         Key="TEXTFIELD_PAD_V"
-      Value="2"/>
+      Value="10"/>
 
   <integer
         Key="TEXTFIELD_BOX_MARGIN"
-      Value="4"/>
+      Value="8"/>
 
   <integer
         Key="TEXTFIELD_WIDTH_CARET"
-      Value="1"/>
+      Value="2"/>
 
   <integer
         Key="TEXTFIELD_SCRL_RATE"
@@ -1439,11 +1438,11 @@
 
   <integer
         Key="UPDATEBAR_WIDTH"
-      Value="150"/>
+      Value="300"/>
 
   <integer
         Key="UPDATEBAR_HEIGHT"
-      Value="25"/>
+      Value="50"/>
 
   <integer
         Key="UPDATEBAR_NUM_FRAMES"
@@ -1478,15 +1477,15 @@
 
   <integer_seq
         Key="SOFTBTN_BUTTON_MAX_WIDTH"
-      Value="85,85"/>
+      Value="170,170"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_X"
-      Value="5,-5"/>
+      Value="10,-10"/>
 
   <integer_seq
         Key="SOFTBTN_BUTTON_ANCHOR_Y"
-      Value="1,1"/>
+      Value="4,4"/>
   <image
          Key="DATEEDITOR_IMAGE_MON_HE_BG"
        Value="dateeditor.image_mon_he_bg"
diff -Naur orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/skins/resources/SkinResourcesImpl.jpp patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/skins/resources/SkinResourcesImpl.jpp
--- orig/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/skins/resources/SkinResourcesImpl.jpp	2011-03-09 19:18:51.000000000 +0100
+++ patched/midp/src/highlevelui/lcdlf/lfjava/classes/com/sun/midp/chameleon/skins/resources/SkinResourcesImpl.jpp	2012-01-26 14:02:21.000000000 +0100
@@ -1,4 +1,12 @@
 /*
+ * NOTICE: Portions Copyright (c) 2007-2009 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+/*
  *   
  *
  * Copyright  1990-2007 Sun Microsystems, Inc. All Rights Reserved.
@@ -652,7 +660,7 @@
     /**
      * Cleanups after reading data from skin file
      */
-    private native static int finishReadingSkinFile()
+    private native static void finishReadingSkinFile()
         throws IOException;
 
     /**
diff -Naur orig/cdc/src/share/classes/sun/misc/MIDPLauncher.java patched/cdc/src/share/classes/sun/misc/MIDPLauncher.java
--- orig/cdc/src/share/classes/sun/misc/MIDPLauncher.java	2011-03-09 19:15:59.000000000 +0100
+++ patched/cdc/src/share/classes/sun/misc/MIDPLauncher.java	2012-01-26 14:02:21.000000000 +0100
@@ -24,6 +24,14 @@
  */
 
 /*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
+/*
  * This is a standalone launcher that launches MIDP using
  * the MIDPImplementationClassLoader.
  */
@@ -33,7 +41,14 @@
 import java.lang.reflect.Method;
 import java.lang.reflect.InvocationTargetException;
 import java.io.File;
+import java.io.FileInputStream;
 import java.util.StringTokenizer;
+import java.util.jar.Manifest;
+import java.util.jar.JarFile;
+import java.util.jar.Attributes;
+import java.util.Map;
+import java.util.HashMap;
+import java.util.Iterator;
 
 public final class MIDPLauncher {
     static private String suitePath[] = new String[0];
@@ -42,14 +57,32 @@
         return suitePath;
     }
 
+    /* Process the properties of a Manifest or JAD file. */
+    private static void processSuiteProperties(Manifest manifest, HashMap midletProperties) {
+        try {
+            Attributes attributes = manifest.getMainAttributes();
+            Iterator keys = attributes.keySet().iterator();
+            while (keys.hasNext()) {
+                Attributes.Name key = (Attributes.Name)keys.next();
+                midletProperties.put(key.toString(), attributes.get(key).toString());
+            }
+        }
+        catch (Exception e) {
+            System.err.println("Can't read manifest file");
+            e.printStackTrace();
+        }
+    }
+
     public static void main(String args[]) {
         int i, j, num;
         File midppath[] = new File[0];
         String midppathString = null;
         String suitepathString = null; 
+        String jadpathString = null; 
         StringTokenizer components;
         String mainArgs[];
         int numMainArgs = args.length;
+        HashMap midletProperties = null;
 
         /* Process arguments */
         for (i = 0; i < args.length; i++) {
@@ -73,10 +106,32 @@
                 suitePath = new String[num];
                 for (j = 0; j < num; j++) {
                     suitePath[j] = components.nextToken();
-	        }
+                }
                 args[i-1] = args[i] = null;
                 numMainArgs -= 2;
+            } else if (arg.equals("-jadpath")) {
+                jadpathString = args[++i];
+                args[i-1] = args[i] = null;
+                numMainArgs -= 2;
+            }
+        }
+
+        midletProperties = new HashMap();
+        try {
+            if (suitepathString != null) {
+                JarFile jarFile = new JarFile(suitepathString);
+                processSuiteProperties(jarFile.getManifest(), midletProperties);
             }
+
+            if (jadpathString != null) {
+                FileInputStream fis = new FileInputStream(jadpathString);
+                processSuiteProperties(new Manifest(fis), midletProperties);
+                fis.close();
+            }
+        }
+        catch (Exception e) {
+            System.err.println("Can't read manifest file");
+            e.printStackTrace();
         }
 
         /* Prepare args for the MIDletSuiteLoader.main() */
@@ -85,8 +140,8 @@
         for (j = 0; j < args.length; j++) {
             if (args[j] != null) {
                 mainArgs[k++] = args[j];
-	    }
-	}
+            }
+        }
 
         /* Create MIDPImplementationClassLoader */
         MIDPImplementationClassLoader midpImplCL = 
@@ -94,16 +149,16 @@
 
         /* Load MIDletSuiteLoader using MIDPImplementationClassLoader
          * and invoke it's main() method. */
-	String loaderName = null;
+        String loaderName = null;
         try {
             loaderName = System.getProperty(
                 "com.sun.midp.mainClass.name",
                 "com.sun.midp.main.CdcMIDletSuiteLoader");
             Class suiteloader = midpImplCL.loadClass(loaderName);
-            Class loaderArgs[] = {mainArgs.getClass()};
-            Method mainMethod = suiteloader.getMethod("main", loaderArgs);
-            Object args2[] = {mainArgs};
-            mainMethod.invoke(null, args2);
+            Class loaderArgs[] = {mainArgs.getClass(), midletProperties.getClass()};
+            Method launchMethod = suiteloader.getMethod("launchUninstalledSuite", loaderArgs);
+            Object args2[] = {mainArgs, midletProperties};
+            launchMethod.invoke(null, args2);
         } catch (ClassNotFoundException ce) {
             System.err.println("Can't find " + loaderName);
         } catch (NoSuchMethodException ne) {
diff -Naur orig/midp/src/ams/cdc_application/classes/com/sun/midp/main/CdcMIDletSuiteLoader.java patched/midp/src/ams/cdc_application/classes/com/sun/midp/main/CdcMIDletSuiteLoader.java
--- orig/midp/src/ams/cdc_application/classes/com/sun/midp/main/CdcMIDletSuiteLoader.java	2011-03-09 19:17:59.000000000 +0100
+++ patched/midp/src/ams/cdc_application/classes/com/sun/midp/main/CdcMIDletSuiteLoader.java	2012-01-26 14:02:21.000000000 +0100
@@ -24,6 +24,14 @@
  * information or have any questions.
  */
 
+/*
+ * NOTICE: Portions Copyright (c) 2007-2010 Davy Preuveneers.
+ * This file has last been modified by Davy Preuveneers on 2010-02-23. The
+ * changes are licensed under the terms of the GNU General Public
+ * License version 2. This notice was added to meet the conditions of
+ * Section 3.a of the GNU General Public License version 2.
+ */
+
 package com.sun.midp.main;
 
 import javax.microedition.io.ConnectionNotFoundException;
@@ -39,6 +47,9 @@
 import com.sun.midp.midletsuite.*;
 import com.sun.midp.security.*;
 import com.sun.midp.rms.RmsEnvironment;
+import com.sun.midp.util.Properties;
+import java.util.HashMap;
+import java.util.Iterator;
 
 /**
  * The first class loaded in VM by midp_run_midlet_with_args to initialize
@@ -57,6 +68,31 @@
     /* Sends foreground events to displays. */
     protected CdcForegroundEventProducer foregroundEventProducer;
 
+    /** Holds the properties of the Manifest and the JAD file of a MIDlet */
+    protected static Properties properties = new Properties();
+
+    /**
+     * Called at the initial start of the VM for a MIDlet with properties.
+     * Initializes the properties specified in the manifest and the jad file
+     * before invoking the main method.
+     *
+     * @param args the MIDlet args for main()
+     * @param entries the MIDlet properties
+     */
+    public static void launchUninstalledSuite(String args[], HashMap entries) {
+        properties = new Properties();
+        Iterator keys = entries.keySet().iterator();
+        while (keys.hasNext()) {
+            String key = (String)keys.next();
+            properties.setProperty(key, (String)(entries.get(key)));
+        }
+
+        // A midlet has always a manifest with mandatory properties. The main()
+        // method should never be invoked directly for running an uninstalled
+        // suite, even if no JAD file is specified.
+        main(args);
+    }
+
     /**
      * Called at the initial start of the VM.
      * Initializes internal security and any other AMS classes related
@@ -187,7 +223,7 @@
         if (suiteId == MIDletSuite.INTERNAL_SUITE_ID) {
             // assume a class name of a MIDlet in the classpath
             suite = InternalMIDletSuiteImpl.create(storage, midletDisplayName,
-                        suiteId);
+                        suiteId, properties);
         } else {
             suite = storage.getMIDletSuite(suiteId, false);
             Logging.initLogSettings(suiteId);
diff -Naur orig/cdc/src/share/javavm/classes/java/lang/Thread.java patched/cdc/src/share/javavm/classes/java/lang/Thread.java
--- orig/cdc/src/share/javavm/classes/java/lang/Thread.java	2011-11-05 11:44:01.000000000 +0100
+++ patched/cdc/src/share/javavm/classes/java/lang/Thread.java	2011-11-05 11:46:14.000000000 +0100
@@ -466,6 +466,7 @@
 	}
 	Thread attachedThread = new Thread(group, name, priority, eetop);
 	attachedThread.daemon = isDaemon;
+	attachedThread.alive = true;
 	ThreadRegistry.add(attachedThread);
 	return attachedThread;
     }
